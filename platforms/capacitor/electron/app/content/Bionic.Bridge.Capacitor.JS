!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";var r,i,o,s,a,c,u,l;n.r(t),function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"}(r||(r={})),function(e){e.Uri="uri",e.Base64="base64"}(i||(i={})),function(e){e.Application="APPLICATION",e.Documents="DOCUMENTS",e.Data="DATA",e.Cache="CACHE",e.External="EXTERNAL",e.ExternalStorage="EXTERNAL_STORAGE"}(o||(o={})),function(e){e.UTF8="utf8",e.ASCII="ascii",e.UTF16="utf18"}(s||(s={})),function(e){e.Heavy="HEAVY",e.Medium="MEDIUM",e.Light="LIGHT"}(a||(a={})),function(e){e.Default="DEFAULT",e.Destructive="DESTRUCTIVE",e.Cancel="CANCEL"}(c||(c={})),function(e){e.Smart="smart",e.Shared="shared",e.User="user"}(u||(u={})),function(e){e.Dark="DARK",e.Light="LIGHT"}(l||(l={}));var d=new(function(){function e(){var e=this;this.Plugins={},this.platform="web",this.isNative=!1,this.Plugins=new Proxy(this.Plugins,{get:function(t,n){if(void 0===t[n]){var r=e;return new Proxy({},{get:function(e,t){return void 0===e[t]?r.pluginMethodNoop.bind(r,e,t,n):e[t]}})}return t[n]}})}return e.prototype.pluginMethodNoop=function(e,t,n){return Promise.reject(n+" does not have web implementation.")},e.prototype.getPlatform=function(){return this.platform},e.prototype.isPluginAvailable=function(e){return this.Plugins.hasOwnProperty(e)},e.prototype.handleError=function(e){console.error(e)},e}());d=window.Capacitor||d,window.Capacitor||(window.Capacitor=d);var f=d.Plugins,h=function(){function e(){this.plugins={},this.loadedPlugins={}}return e.prototype.addPlugin=function(e){this.plugins[e.config.name]=e},e.prototype.getPlugin=function(e){return this.plugins[e]},e.prototype.loadPlugin=function(e){var t=this.getPlugin(e);t?t.load():console.error("Unable to load web plugin "+e+", no such plugin found.")},e.prototype.getPlugins=function(){var e=[];for(var t in this.plugins)e.push(this.plugins[t]);return e},e}(),v=new h,p=function(){function e(e,t){this.config=e,this.loaded=!1,this.listeners={},this.windowListeners={},t?t.addPlugin(this):v.addPlugin(this)}return e.prototype.addWindowListener=function(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0},e.prototype.removeWindowListener=function(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)},e.prototype.addListener=function(e,t){var n=this;this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);var r=this.windowListeners[e];return r&&!r.registered&&this.addWindowListener(r),{remove:function(){n.removeListener(e,t)}}},e.prototype.removeListener=function(e,t){var n=this.listeners[e];if(n){var r=n.indexOf(t);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}},e.prototype.notifyListeners=function(e,t){this.listeners[e].forEach(function(e){return e(t)})},e.prototype.hasListeners=function(e){return!!this.listeners[e].length},e.prototype.registerWindowListener=function(e,t){var n=this;this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:function(e){n.notifyListeners(t,e)}}},e.prototype.requestPermissions=function(){return Capacitor.isNative?Capacitor.nativePromise(this.config.name,"requestPermissions",{}):Promise.resolve({results:[]})},e.prototype.load=function(){this.loaded=!0},e}(),y=function(e){for(var t=0,n=v.getPlugins();t<n.length;t++){var r=n[t];w(e,r)}},w=function(e,t){e.hasOwnProperty(t.config.name)&&!function(e){return e.config.platforms&&e.config.platforms.indexOf(Capacitor.platform)>=0}(t)||(e[t.config.name]=t)},m=function(e,t){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function g(e,t){function n(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function P(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})}function b(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var B=function(e){function t(){return e.call(this,{name:"Browser",platforms:["web"]})||this}return g(t,e),t.prototype.open=function(e){return P(this,void 0,void 0,function(){return b(this,function(t){return this._lastWindow=window.open(e.url,e.windowName||"_blank"),[2,Promise.resolve()]})})},t.prototype.prefetch=function(e){return P(this,void 0,void 0,function(){return b(this,function(e){return[2,Promise.resolve()]})})},t.prototype.close=function(){return P(this,void 0,void 0,function(){return b(this,function(e){return this._lastWindow&&this._lastWindow.close(),[2,Promise.resolve()]})})},t}(p),S=new B,x=function(e){function t(){return e.call(this,{name:"Camera",platforms:["web"]})||this}return g(t,e),t.prototype.getPhoto=function(e){return P(this,void 0,void 0,function(){var e=this;return b(this,function(t){return[2,new Promise(function(t,n){return P(e,void 0,void 0,function(){var e,r=this;return b(this,function(i){switch(i.label){case 0:return e=document.createElement("ion-pwa-camera-modal"),document.body.appendChild(e),[4,e.componentOnReady()];case 1:return i.sent(),e.addEventListener("onPhoto",function(i){return P(r,void 0,void 0,function(){var r,o;return b(this,function(s){switch(s.label){case 0:return null!==(r=i.detail)?[3,1]:(n(),[3,3]);case 1:return o=t,[4,this._getCameraPhoto(r)];case 2:o.apply(void 0,[s.sent()]),s.label=3;case 3:return e.dismiss(),[2]}})})}),e.present(),[2]}})})})]})})},t.prototype._getCameraPhoto=function(e){return new Promise(function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onloadend=function(){t({base64Data:r.result,webPath:r.result,format:"jpeg"})},r.onerror=function(e){n(e)}})},t}(p),_=new x,j=function(e){function t(){return e.call(this,{name:"Clipboard",platforms:["web"]})||this}return g(t,e),t.prototype.write=function(e){return P(this,void 0,void 0,function(){return b(this,function(t){switch(t.label){case 0:return navigator.clipboard?e.string||e.url?[4,navigator.clipboard.writeText(e.string||e.label)]:[3,2]:[2,Promise.reject("Clipboard API not available in this browser")];case 1:return t.sent(),[3,3];case 2:if(e.image)return[2,Promise.reject("Setting images not supported on the web")];t.label=3;case 3:return[2,Promise.resolve()]}})})},t.prototype.read=function(e){return P(this,void 0,void 0,function(){var e,t,n,r;return b(this,function(i){switch(i.label){case 0:return navigator.clipboard?[4,navigator.clipboard.read()]:[2,Promise.reject("Clipboard API not available in this browser")];case 1:for(e=i.sent(),t=0,n=e.items;t<n.length;t++)if("text/plain"===(r=n[t]).type)return[2,Promise.resolve(r.getAs("text/plain"))];return[2,Promise.reject("Unable to get data from clipboard")]}})})},t}(p),C=new j,k=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach(function(t){if(t&&"object"==typeof t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}),e},A=function(e){function t(){return e.call(this,{name:"Geolocation",platforms:["web"]})||this}return g(t,e),t.prototype.getCurrentPosition=function(e){var t=this;return new Promise(function(n,r){return t.requestPermissions().then(function(t){window.navigator.geolocation.getCurrentPosition(function(e){n(e)},function(e){r(e)},k({enableHighAccuracy:!0,timeout:1e4,maximumAge:0},e))})})},t.prototype.watchPosition=function(e,t){return""+window.navigator.geolocation.watchPosition(function(e){t(e)},function(e){t(null,e)},k({enableHighAccuracy:!0,timeout:1e4,maximumAge:0},e))},t.prototype.clearWatch=function(e){return window.navigator.geolocation.clearWatch(parseInt(e.id,10)),Promise.resolve()},t}(p),L=new A,M=function(e){function t(){return e.call(this,{name:"Device",platforms:["web"]})||this}return g(t,e),t.prototype.getInfo=function(){return P(this,void 0,void 0,function(){var e,t,n;return b(this,function(r){switch(r.label){case 0:e=navigator.userAgent,t=this.parseUa(e),n={},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,navigator.getBattery()];case 2:return n=r.sent(),[3,4];case 3:return r.sent(),[3,4];case 4:return[2,Promise.resolve({model:t.model,platform:"web",appVersion:"",osVersion:t.osVersion,manufacturer:navigator.vendor,isVirtual:!1,batteryLevel:n.level,isCharging:n.charging,uuid:this.getUid()})]}})})},t.prototype.parseUa=function(e){var t={},n=e.indexOf("(")+1,r=e.indexOf(") AppleWebKit");-1!==e.indexOf(") Gecko")&&(r=e.indexOf(") Gecko"));var i=e.substring(n,r);if(-1!==e.indexOf("Android"))t.model=i.replace("; wv","").split("; ").pop().split(" Build")[0],t.osVersion=i.split("; ")[1];else if(t.model=i.split("; ")[0],navigator.oscpu)t.osVersion=navigator.oscpu;else if(-1!==e.indexOf("Windows"))t.osVersion=i;else{var o=i.split("; ").pop().replace(" like Mac OS X","").split(" ");t.osVersion=o[o.length-1].replace(/_/g,".")}return t},t.prototype.getUid=function(){var e=window.localStorage.getItem("_capuid");return e||(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),window.localStorage.setItem("_capuid",e),e)},t}(p),O=new M,E=function(e){function t(){return e.call(this,{name:"Share",platforms:["web"]})||this}return g(t,e),t.prototype.share=function(e){return navigator.share?navigator.share({title:e.title,text:e.text,url:e.url}):Promise.reject("Web Share API not available")},t}(p),D=new E,F=function(e){function t(){return e.call(this,{name:"Modals",platforms:["web"]})||this}return g(t,e),t.prototype.alert=function(e){return P(this,void 0,void 0,function(){return b(this,function(t){return window.alert(e.message),[2,Promise.resolve()]})})},t.prototype.prompt=function(e){return P(this,void 0,void 0,function(){var t;return b(this,function(n){return t=window.prompt(e.message,e.inputPlaceholder||""),[2,Promise.resolve({value:t,cancelled:null===t})]})})},t.prototype.confirm=function(e){return P(this,void 0,void 0,function(){var t;return b(this,function(n){return t=window.confirm(e.message),[2,Promise.resolve({value:t})]})})},t.prototype.showActions=function(e){return P(this,void 0,void 0,function(){var t=this;return b(this,function(n){return[2,new Promise(function(n,r){return P(t,void 0,void 0,function(){var t,r;return b(this,function(i){switch(i.label){case 0:return(t=document.querySelector("ion-action-sheet-controller"))||(t=document.createElement("ion-action-sheet-controller"),document.body.appendChild(t)),[4,t.componentOnReady()];case 1:return i.sent(),r=e.options.map(function(e,t){return{text:e.title,role:e.style&&e.style.toLowerCase()||"",icon:e.icon||"",handler:function(){n({index:t})}}}),[4,t.create({title:e.title,buttons:r})];case 2:return[4,i.sent().present()];case 3:return i.sent(),[2]}})})})]})})},t}(p),N=new F,R=function(e){function t(){var t=e.call(this,{name:"Storage",platforms:["web"]})||this;return t.KEY_PREFIX="_cap_",t}return g(t,e),t.prototype.get=function(e){var t=this;return new Promise(function(n,r){n({value:window.localStorage.getItem(t.makeKey(e.key))})})},t.prototype.set=function(e){var t=this;return new Promise(function(n,r){window.localStorage.setItem(t.makeKey(e.key),e.value),n()})},t.prototype.remove=function(e){var t=this;return new Promise(function(n,r){window.localStorage.removeItem(t.makeKey(e.key)),n()})},t.prototype.keys=function(){var e=this;return new Promise(function(t,n){t({keys:Object.keys(localStorage).filter(function(t){return e.isKey(t)}).map(function(t){return e.getKey(t)})})})},t.prototype.clear=function(){var e=this;return new Promise(function(t,n){Object.keys(localStorage).filter(function(t){return e.isKey(t)}).forEach(function(e){return window.localStorage.removeItem(e)}),t()})},t.prototype.makeKey=function(e){return this.KEY_PREFIX+e},t.prototype.isKey=function(e){return 0===e.indexOf(this.KEY_PREFIX)},t.prototype.getKey=function(e){return e.substr(this.KEY_PREFIX.length)},t}(p),T=new R,I=function(e){function t(){return e.call(this,{name:"Toast",platforms:["web"]})||this}return g(t,e),t.prototype.show=function(e){return P(this,void 0,void 0,function(){var t,n;return b(this,function(r){switch(r.label){case 0:return(t=document.querySelector("ion-toast-controller"))||(t=document.createElement("ion-toast-controller"),document.body.appendChild(t)),[4,t.componentOnReady()];case 1:return r.sent(),n=3e3,e.duration&&(n="long"===e.duration?5e3:3e3),[4,t.create({position:"bottom",message:e.text,duration:n})];case 2:return[4,r.sent().present()];case 3:return[2,r.sent()]}})})},t}(p),W=new I;y(f);var U=function(e){w(f,e)};n.d(t,"CameraSource",function(){return r}),n.d(t,"CameraResultType",function(){return i}),n.d(t,"FilesystemDirectory",function(){return o}),n.d(t,"FilesystemEncoding",function(){return s}),n.d(t,"HapticsImpactStyle",function(){return a}),n.d(t,"ActionSheetOptionStyle",function(){return c}),n.d(t,"PhotosAlbumType",function(){return u}),n.d(t,"StatusBarStyle",function(){return l}),n.d(t,"Capacitor",function(){return d}),n.d(t,"Plugins",function(){return f}),n.d(t,"registerWebPlugin",function(){return U}),n.d(t,"BrowserPluginWeb",function(){return B}),n.d(t,"Browser",function(){return S}),n.d(t,"CameraPluginWeb",function(){return x}),n.d(t,"Camera",function(){return _}),n.d(t,"ClipboardPluginWeb",function(){return j}),n.d(t,"Clipboard",function(){return C}),n.d(t,"GeolocationPluginWeb",function(){return A}),n.d(t,"Geolocation",function(){return L}),n.d(t,"DevicePluginWeb",function(){return M}),n.d(t,"Device",function(){return O}),n.d(t,"SharePluginWeb",function(){return E}),n.d(t,"Share",function(){return D}),n.d(t,"ModalsPluginWeb",function(){return F}),n.d(t,"Modals",function(){return N}),n.d(t,"StoragePluginWeb",function(){return R}),n.d(t,"Storage",function(){return T}),n.d(t,"ToastPluginWeb",function(){return I}),n.d(t,"Toast",function(){return W}),n.d(t,"WebPluginRegistry",function(){return h}),n.d(t,"WebPlugins",function(){return v}),n.d(t,"WebPlugin",function(){return p}),n.d(t,"mergeWebPlugins",function(){return y}),n.d(t,"mergeWebPlugin",function(){return w})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(3),o=n(4),s=n(5),a=n(6),c=n(7),u=n(8),l=n(9),d=n(10),f=n(11),h=n(12),v=n(13),p=n(14),y=n(15),w=n(16),m=n(17),g=n(18),P=n(19),b=n(20),B=n(21);var S;!function(e){const t="BionicBridge",n={Capacitor:{Accessibility:new B.AccessibilityBridge,App:new b.AppBridge,BackgroundTask:new P.BackgroundTaskBridge,Browser:new r.BrowserBridge,Camera:new s.CameraBridge,Clipboard:new g.ClipboardBridge,Console:new o.ConsoleBridge,Device:new a.DeviceBridge,Filesystem:new m.FilesystemBridge,Geolocation:new c.GeolocationBridge,Haptics:new w.HapticsBridge,Keyboard:new u.KeyboardBridge,Modals:new l.ModalsBridge,Motion:new y.MotionBridge,Network:new p.NetworkBridge,Share:new f.ShareBridge,SplashScreen:new v.SplashScreenBridge,StatusBar:new h.StatusBarBridge,Storage:new d.StorageBridge,Toast:new i.ToastBridge}};e.initialize=function(){"undefined"==typeof window||window[t]?window[t]=Object.assign({},window[t],n):window[t]=Object.assign({},n)}}(S||(S={})),S.initialize()},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),{Browser:o}=i.Plugins;class s{constructor(e=null,t=null){this.id=e,this.handle=t}reportFromBrowserListener(e){console.log(`🔥 - ${JSON.stringify(e)}`),DotNet.invokeMethodAsync("Bionic.Bridge.Capacitor","ReportFromBrowserListener",this.id,JSON.stringify(e))}}class a{close(){return r(this,void 0,void 0,function*(){return o?yield o.close():Promise.reject("Browser not available.")})}open(e){return r(this,void 0,void 0,function*(){return o?yield o.open(e):Promise.reject("Browser not available.")})}prefetch(e){return r(this,void 0,void 0,function*(){return o?yield o.prefetch(e):Promise.reject("Browser not available.")})}listenToBrowserFinished(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Browser not available.");if(a.watchers.has(e))return Promise.reject("ID already in use.");try{const t=new s(e);return t.handle=o.addListener("browserFinished",t.reportFromBrowserListener),a.watchers.set(e,t),new Promise(e=>e())}catch(e){return new Promise((t,n)=>n(e.message))}})}listenToBrowserPageLoaded(e){if(!o)return Promise.reject("Browser not available.");if(a.watchers.has(e))return Promise.reject("ID already in use.");try{const t=new s(e);return t.handle=o.addListener("browserPageLoaded",t.reportFromBrowserListener),a.watchers.set(e,t),new Promise(e=>e())}catch(e){return new Promise((t,n)=>n(e.message))}}}a.watchers=new Map,t.BrowserBridge=a},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),{Toast:o}=i.Plugins;t.ToastBridge=class{show(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Toast not available.");yield o.show(e)})}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});t.ConsoleBridge=class{log(e){return r(this,void 0,void 0,function*(){yield console.log(e)})}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),{Camera:o}=i.Plugins;t.CameraBridge=class{getPhoto(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Camera not available.");try{const t=yield o.getPhoto(e);return console.log(t),new Promise(e=>e(t))}catch(e){return new Promise((t,n)=>n(e.message))}})}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),{Device:o}=i.Plugins;t.DeviceBridge=class{getInfo(){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Device not available.");try{const e=yield o.getInfo();return new Promise(t=>t(e))}catch(e){return new Promise((t,n)=>n(e.message))}})}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),{Geolocation:o}=i.Plugins;class s{constructor(){this.id=null}geolocationCallback(e,t){t&&console.log(`Got position error: ${t}`),DotNet.invokeMethodAsync("Bionic.Bridge.Capacitor","ReportNewPosition",this.id,e)}}class a{clearWatch(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Geolocation not available.");try{return yield o.clearWatch({id:e}),a.watchers.delete(e),new Promise(e=>e())}catch(e){return new Promise((t,n)=>n(e.message))}})}getCurrentPosition(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Geolocation not available.");try{const t=yield o.getCurrentPosition(e);return new Promise(e=>e(t))}catch(e){return new Promise((t,n)=>n(e.message))}})}watchPosition(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Geolocation not available.");try{const t=new s,n=yield o.watchPosition(e,t.geolocationCallback.bind(t));return t.id=n,a.watchers.set(n,t),new Promise(e=>e(n))}catch(e){return new Promise((t,n)=>n(e.message))}})}}a.watchers=new Map,t.GeolocationBridge=a},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),{Keyboard:o}=i.Plugins;t.KeyboardBridge=class{show(){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Keyboard not available.");try{return yield o.show(),new Promise(e=>e())}catch(e){return new Promise((t,n)=>n(e.message))}})}hide(){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Keyboard not available.");try{return yield o.hide(),new Promise(e=>e())}catch(e){return new Promise((t,n)=>n(e.message))}})}setAccessoryBarVisible(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Keyboard not available.");try{return yield o.setAccessoryBarVisible({isVisible:e}),new Promise(e=>e())}catch(e){return new Promise((t,n)=>n(e.message))}})}registerEventListeners(){return r(this,void 0,void 0,function*(){if(!o||!window)return Promise.reject("Keyboard not available.");try{return window.addEventListener("keyboardWillShow",e=>{DotNet.invokeMethodAsync("Bionic.Bridge.Capacitor","KeyboardWillShow",JSON.stringify(e))}),window.addEventListener("keyboardDidShow",e=>{DotNet.invokeMethodAsync("Bionic.Bridge.Capacitor","KeyboardDidShow",JSON.stringify(e))}),window.addEventListener("keyboardWillHide",()=>{DotNet.invokeMethodAsync("Bionic.Bridge.Capacitor","KeyboardWillHide")}),window.addEventListener("keyboardDidHide",()=>{DotNet.invokeMethodAsync("Bionic.Bridge.Capacitor","KeyboardDidHide")}),new Promise(e=>e())}catch(e){return new Promise((t,n)=>n(e.message))}})}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),{Modals:o}=i.Plugins;t.ModalsBridge=class{alert(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Modals not available.");try{return yield o.alert(e)}catch(e){return new Promise((t,n)=>n(e.message))}})}confirm(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Modals not available.");try{return yield o.confirm(e)}catch(e){return new Promise((t,n)=>n(e.message))}})}prompt(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Modals not available.");try{return yield o.prompt(e)}catch(e){return new Promise((t,n)=>n(e.message))}})}showActions(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Modals not available.");try{return yield o.showActions(e)}catch(e){return new Promise((t,n)=>n(e.message))}})}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),{Storage:o}=i.Plugins;t.StorageBridge=class{clear(){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Storage not available.");try{return yield o.clear()}catch(e){return new Promise((t,n)=>n(e.message))}})}get(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Storage not available.");try{const t=yield o.get({key:e});return new Promise(e=>e(t?JSON.parse(t.value):null))}catch(e){return new Promise((t,n)=>n(e.message))}})}set(e,t){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Storage not available.");try{return yield o.set({key:e,value:JSON.stringify(t)})}catch(e){return new Promise((t,n)=>n(e.message))}})}keys(){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Storage not available.");try{const e=yield o.keys();return new Promise(t=>t(e&&e.keys?e.keys:[]))}catch(e){return new Promise((t,n)=>n(e.message))}})}remove(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Storage not available.");try{return yield o.remove({key:e})}catch(e){return new Promise((t,n)=>n(e.message))}})}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),{Share:o}=i.Plugins;t.ShareBridge=class{share(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Share not available.");yield o.share(e)})}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),{StatusBar:o}=i.Plugins;t.StatusBarBridge=class{show(){return r(this,void 0,void 0,function*(){return o?yield o.show():Promise.reject("StatusBar not available.")})}hide(){return r(this,void 0,void 0,function*(){return o?yield o.hide():Promise.reject("StatusBar not available.")})}setBackgroundColor(e){return r(this,void 0,void 0,function*(){return o?yield o.setBackgroundColor({color:e}):Promise.reject("StatusBar not available.")})}setStyle(e){return r(this,void 0,void 0,function*(){return o?yield o.setStyle({style:0===e?i.StatusBarStyle.Dark:i.StatusBarStyle.Light}):Promise.reject("StatusBar not available.")})}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),{SplashScreen:o}=i.Plugins;t.SplashScreenBridge=class{show(e){return r(this,void 0,void 0,function*(){return o?yield o.show(e):Promise.reject("SplashScreen not available.")})}hide(e){return r(this,void 0,void 0,function*(){return o?yield o.hide(e):Promise.reject("SplashScreen not available.")})}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),{Network:o}=i.Plugins;class s{constructor(){this.id=null,this.handler=null}remove(){this.handler&&(this.handler.remove(),this.handler=null)}networkListener(e){DotNet.invokeMethodAsync("Bionic.Bridge.Capacitor","ReportNetworkStatus",this.id,e)}}class a{getStatus(){return r(this,void 0,void 0,function*(){return o?yield o.getStatus():Promise.reject("Network not available.")})}addListener(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Network not available.");try{const t=new s;return t.id=e,t.handler=yield o.addListener("networkStatusChange",t.networkListener.bind(t)),a.watchers.set(e,t),new Promise(e=>e())}catch(e){return new Promise((t,n)=>n(e.message))}})}removeListener(e){return r(this,void 0,void 0,function*(){try{const t=a.watchers.get(e);return t&&t.handler&&(t.remove(),a.watchers.delete(e)),new Promise(e=>e())}catch(e){return new Promise((t,n)=>n(e.message))}})}}a.watchers=new Map,t.NetworkBridge=a},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),{Motion:o}=i.Plugins;class s{constructor(){this.id=null,this.handler=null}remove(){this.handler&&(this.handler.remove(),this.handler=null)}motionAccelListener(e){DotNet.invokeMethodAsync("Bionic.Bridge.Capacitor","ReportMotionAccel",this.id,e)}motionOrientationListener(e){DotNet.invokeMethodAsync("Bionic.Bridge.Capacitor","ReportMotionOrientation",this.id,e)}}class a{addAccelListener(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Motion not available.");try{const t=new s;return t.id=e,t.handler=yield o.addListener("accel",t.motionAccelListener.bind(t)),a.watchers.set(e,t),new Promise(e=>e())}catch(e){return new Promise((t,n)=>n(e.message))}})}addOrientationListener(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Motion not available.");try{const t=new s;return t.id=e,t.handler=yield o.addListener("orientation",t.motionOrientationListener.bind(t)),a.watchers.set(e,t),new Promise(e=>e())}catch(e){return new Promise((t,n)=>n(e.message))}})}removeListener(e){return r(this,void 0,void 0,function*(){try{const t=a.watchers.get(e);return t&&t.handler&&(t.remove(),a.watchers.delete(e)),new Promise(e=>e())}catch(e){return new Promise((t,n)=>n(e.message))}})}}a.watchers=new Map,t.MotionBridge=a},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),{Haptics:o}=i.Plugins;t.HapticsBridge=class{vibrate(){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Haptics not available.");yield o.vibrate()})}impact(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Haptics not available.");let t=i.HapticsImpactStyle.Light;switch(e){case 0:t=i.HapticsImpactStyle.Heavy;break;case 1:t=i.HapticsImpactStyle.Medium}yield o.impact({style:t})})}selectionStart(){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Haptics not available.");yield o.selectionStart()})}selectionChanged(){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Haptics not available.");yield o.selectionChanged()})}selectionEnd(){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Haptics not available.");yield o.selectionEnd()})}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),{Filesystem:o}=i.Plugins;class s{appendFile(e){return r(this,void 0,void 0,function*(){return o?(e.encoding=s.translateEncode(e.encoding),e.directory=s.translateDirectory(e.directory),yield o.appendFile(e)):Promise.reject("Filesystem not available.")})}deleteFile(e){return r(this,void 0,void 0,function*(){return o?(e.directory=s.translateDirectory(e.directory),yield o.deleteFile(e)):Promise.reject("Filesystem not available.")})}getUri(e){return r(this,void 0,void 0,function*(){return o?(e.directory=s.translateDirectory(e.directory),yield o.getUri(e)):Promise.reject("Filesystem not available.")})}mkdir(e){return r(this,void 0,void 0,function*(){return o?(e.directory=s.translateDirectory(e.directory),yield o.mkdir(e)):Promise.reject("Filesystem not available.")})}readFile(e){return r(this,void 0,void 0,function*(){return o?(e.encoding=s.translateEncode(e.encoding),e.directory=s.translateDirectory(e.directory),yield o.readFile(e)):Promise.reject("Filesystem not available.")})}readdir(e){return r(this,void 0,void 0,function*(){return o?(e.directory=s.translateDirectory(e.directory),yield o.readdir(e)):Promise.reject("Filesystem not available.")})}rmdir(e){return r(this,void 0,void 0,function*(){return o?(e.directory=s.translateDirectory(e.directory),yield o.rmdir(e)):Promise.reject("Filesystem not available.")})}stat(e){return r(this,void 0,void 0,function*(){return o?(e.directory=s.translateDirectory(e.directory),yield o.stat(e)):Promise.reject("Filesystem not available.")})}writeFile(e){return r(this,void 0,void 0,function*(){return console.log(e),o?(e.encoding=s.translateEncode(e.encoding),e.directory=s.translateDirectory(e.directory),yield o.writeFile(e)):Promise.reject("Filesystem not available.")})}static translateEncode(e){switch(e){case 1:return i.FilesystemEncoding.ASCII;case 2:return i.FilesystemEncoding.UTF16;default:return i.FilesystemEncoding.UTF8}}static translateDirectory(e){switch(e){case 1:return i.FilesystemDirectory.Documents;case 2:return i.FilesystemDirectory.Data;case 3:return i.FilesystemDirectory.Cache;case 4:return i.FilesystemDirectory.External;case 5:return i.FilesystemDirectory.ExternalStorage;default:return i.FilesystemDirectory.Application}}}t.FilesystemBridge=s},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),{Clipboard:o}=i.Plugins;class s{read(e){return r(this,void 0,void 0,function*(){return o?yield o.read({type:s.translateClipboardType(e)}):Promise.reject("Clipboard not available.")})}write(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("Clipboard not available.");yield o.write({string:e.str,image:e.image,url:e.url,label:e.label})})}static translateClipboardType(e){switch(e){case 1:return"url";case 2:return"image";default:return"string"}}}t.ClipboardBridge=s},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),{BackgroundTask:o}=i.Plugins;class s{constructor(){this.id=null}beforeExitCallback(){DotNet.invokeMethodAsync("Bionic.Bridge.Capacitor","NotifyBeforeExit",this.id)}}class a{beforeExit(){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("BackgroundTask not available.");try{const e=new s,t=yield o.beforeExit(e.beforeExitCallback.bind(e));return e.id=t,a.watchers.set(t,e),new Promise(e=>e(t))}catch(e){return new Promise((t,n)=>n(e.message))}})}finish(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("BackgroundTask not available.");try{return a.watchers.delete(e),yield o.finish({taskId:e})}catch(e){return new Promise((t,n)=>n(e.message))}})}}a.watchers=new Map,t.BackgroundTaskBridge=a},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),{App:o}=i.Plugins;class s{constructor(){this.id=null,this.handler=null}remove(){this.handler&&(this.handler.remove(),this.handler=null)}appStateChangeListener(e){DotNet.invokeMethodAsync("Bionic.Bridge.Capacitor","ReportAppStateChange",this.id,e)}appUrlOpenListener(e){DotNet.invokeMethodAsync("Bionic.Bridge.Capacitor","ReportAppUrlOpen",this.id,e)}appRestoredResultListener(e){DotNet.invokeMethodAsync("Bionic.Bridge.Capacitor","ReportAppRestoredResult",this.id,e)}backButtonListener(e){DotNet.invokeMethodAsync("Bionic.Bridge.Capacitor","ReportBackButton",this.id,e)}}class a{canOpenUrl(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("App not available.");const t=yield o.canOpenUrl({url:e});return!!t&&t.value})}exitApp(){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("App not available.");yield o.exitApp()})}getLaunchUrl(){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("App not available.");const e=yield o.getLaunchUrl();return e&&e.url?e.url:null})}openUrl(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("App not available.");const t=yield o.openUrl({url:e});return!!t&&t.completed})}addAppStateChangeListener(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("App not available.");try{const t=new s;return t.id=e,t.handler=yield o.addListener("appStateChange",t.appStateChangeListener.bind(t)),a.watchers.set(e,t),new Promise(e=>e())}catch(e){return new Promise((t,n)=>n(e.message))}})}addAppUrlOpenListener(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("App not available.");try{const t=new s;return t.id=e,t.handler=yield o.addListener("appUrlOpen",t.appUrlOpenListener.bind(t)),a.watchers.set(e,t),new Promise(e=>e())}catch(e){return new Promise((t,n)=>n(e.message))}})}addAppRestoredResultListener(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("App not available.");try{const t=new s;return t.id=e,t.handler=yield o.addListener("appRestoredResult",t.appRestoredResultListener.bind(t)),a.watchers.set(e,t),new Promise(e=>e())}catch(e){return new Promise((t,n)=>n(e.message))}})}addBackButtonListener(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("App not available.");try{const t=new s;return t.id=e,t.handler=yield o.addListener("backButton",t.backButtonListener.bind(t)),a.watchers.set(e,t),new Promise(e=>e())}catch(e){return new Promise((t,n)=>n(e.message))}})}removeListener(e){return r(this,void 0,void 0,function*(){try{const t=a.watchers.get(e);return t&&t.handler&&(t.remove(),a.watchers.delete(e)),new Promise(e=>e())}catch(e){return new Promise((t,n)=>n(e.message))}})}}a.watchers=new Map,t.AppBridge=a},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),{Accessibility:o}=i.Plugins;class s{constructor(){this.id=null,this.handler=null}remove(){this.handler&&(this.handler.remove(),this.handler=null)}accessibilityScreenReaderStateChangeListener(e){DotNet.invokeMethodAsync("Bionic.Bridge.Capacitor","ReportAccessibilityScreenReaderStateChange",this.id,!(!e||!e.value)&&e.value)}}class a{isScreenReaderEnabled(){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("App not available.");const e=yield o.isScreenReaderEnabled();return!!e&&e.value})}speak(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("App not available.");yield o.speak(e)})}addListener(e){return r(this,void 0,void 0,function*(){if(!o)return Promise.reject("App not available.");try{const t=new s;return t.id=e,t.handler=yield o.addListener("accessibilityScreenReaderStateChange",t.accessibilityScreenReaderStateChangeListener.bind(t)),a.watchers.set(e,t),new Promise(e=>e())}catch(e){return new Promise((t,n)=>n(e.message))}})}removeListener(e){return r(this,void 0,void 0,function*(){try{const t=a.watchers.get(e);return t&&t.handler&&(t.remove(),a.watchers.delete(e)),new Promise(e=>e())}catch(e){return new Promise((t,n)=>n(e.message))}})}}a.watchers=new Map,t.AccessibilityBridge=a}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BjYXBhY2l0b3IvY29yZS9kaXN0L2VzbS9jb3JlLXBsdWdpbi1kZWZpbml0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGNhcGFjaXRvci9jb3JlL2Rpc3QvZXNtL3dlYi1ydW50aW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AY2FwYWNpdG9yL2NvcmUvZGlzdC9lc20vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AY2FwYWNpdG9yL2NvcmUvZGlzdC9lc20vd2ViL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BjYXBhY2l0b3IvY29yZS9kaXN0L2VzbS93ZWIvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGNhcGFjaXRvci9jb3JlL2Rpc3QvZXNtL3dlYi9jYW1lcmEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BjYXBhY2l0b3IvY29yZS9kaXN0L2VzbS93ZWIvY2xpcGJvYXJkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AY2FwYWNpdG9yL2NvcmUvZGlzdC9lc20vdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGNhcGFjaXRvci9jb3JlL2Rpc3QvZXNtL3dlYi9nZW9sb2NhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGNhcGFjaXRvci9jb3JlL2Rpc3QvZXNtL3dlYi9kZXZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BjYXBhY2l0b3IvY29yZS9kaXN0L2VzbS93ZWIvc2hhcmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BjYXBhY2l0b3IvY29yZS9kaXN0L2VzbS93ZWIvbW9kYWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AY2FwYWNpdG9yL2NvcmUvZGlzdC9lc20vd2ViL3N0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BjYXBhY2l0b3IvY29yZS9kaXN0L2VzbS93ZWIvdG9hc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BjYXBhY2l0b3IvY29yZS9kaXN0L2VzbS93ZWItcGx1Z2lucy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvSW5pdGlhbGl6ZUNhcGFjaXRvckJyaWRnZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQnJvd3NlckJyaWRnZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVG9hc3RCcmlkZ2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbnNvbGVCcmlkZ2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NhbWVyYUJyaWRnZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGV2aWNlQnJpZGdlLnRzIiwid2VicGFjazovLy8uL3NyYy9HZW9sb2NhdGlvbkJyaWRnZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvS2V5Ym9hcmRCcmlkZ2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL01vZGFsc0JyaWRnZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU3RvcmFnZUJyaWRnZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU2hhcmVCcmlkZ2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1N0YXR1c0JhckJyaWRnZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU3BsYXNoU2NyZWVuQnJpZGdlLnRzIiwid2VicGFjazovLy8uL3NyYy9OZXR3b3JrQnJpZGdlLnRzIiwid2VicGFjazovLy8uL3NyYy9Nb3Rpb25CcmlkZ2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0hhcHRpY3NCcmlkZ2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0ZpbGVzeXN0ZW1CcmlkZ2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NsaXBib2FyZEJyaWRnZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQmFja2dyb3VuZFRhc2tCcmlkZ2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0FwcEJyaWRnZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQWNjZXNzaWJpbGl0eUJyaWRnZS50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkNhbWVyYVNvdXJjZSIsIkNhbWVyYVJlc3VsdFR5cGUiLCJGaWxlc3lzdGVtRGlyZWN0b3J5IiwiRmlsZXN5c3RlbUVuY29kaW5nIiwiSGFwdGljc0ltcGFjdFN0eWxlIiwiQWN0aW9uU2hlZXRPcHRpb25TdHlsZSIsIlBob3Rvc0FsYnVtVHlwZSIsIlN0YXR1c0JhclN0eWxlIiwiZ2xvYmFsX0NhcGFjaXRvciIsIkNhcGFjaXRvcldlYiIsIl90aGlzIiwidGhpcyIsIlBsdWdpbnMiLCJwbGF0Zm9ybSIsImlzTmF0aXZlIiwiUHJveHkiLCJ0YXJnZXQiLCJwcm9wIiwidGhpc1JlZl8xIiwiX3RhcmdldCIsIl9wcm9wIiwicGx1Z2luTWV0aG9kTm9vcCIsInBsdWdpbk5hbWUiLCJQcm9taXNlIiwicmVqZWN0IiwiZ2V0UGxhdGZvcm0iLCJpc1BsdWdpbkF2YWlsYWJsZSIsImhhbmRsZUVycm9yIiwiZSIsImNvbnNvbGUiLCJlcnJvciIsIndpbmRvdyIsIkNhcGFjaXRvciIsIldlYlBsdWdpblJlZ2lzdHJ5IiwicGx1Z2lucyIsImxvYWRlZFBsdWdpbnMiLCJhZGRQbHVnaW4iLCJwbHVnaW4iLCJjb25maWciLCJnZXRQbHVnaW4iLCJsb2FkUGx1Z2luIiwibG9hZCIsImdldFBsdWdpbnMiLCJuYW1lXzEiLCJwdXNoIiwiV2ViUGx1Z2lucyIsIldlYlBsdWdpbiIsInBsdWdpblJlZ2lzdHJ5IiwibG9hZGVkIiwibGlzdGVuZXJzIiwid2luZG93TGlzdGVuZXJzIiwiYWRkV2luZG93TGlzdGVuZXIiLCJoYW5kbGUiLCJhZGRFdmVudExpc3RlbmVyIiwid2luZG93RXZlbnROYW1lIiwiaGFuZGxlciIsInJlZ2lzdGVyZWQiLCJyZW1vdmVXaW5kb3dMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGRMaXN0ZW5lciIsImV2ZW50TmFtZSIsImxpc3RlbmVyRnVuYyIsIndpbmRvd0xpc3RlbmVyIiwicmVtb3ZlIiwicmVtb3ZlTGlzdGVuZXIiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJsZW5ndGgiLCJub3RpZnlMaXN0ZW5lcnMiLCJkYXRhIiwiZm9yRWFjaCIsImxpc3RlbmVyIiwiaGFzTGlzdGVuZXJzIiwicmVnaXN0ZXJXaW5kb3dMaXN0ZW5lciIsInBsdWdpbkV2ZW50TmFtZSIsImV2ZW50IiwicmVxdWVzdFBlcm1pc3Npb25zIiwibmF0aXZlUHJvbWlzZSIsInJlc29sdmUiLCJyZXN1bHRzIiwibWVyZ2VXZWJQbHVnaW5zIiwia25vd25QbHVnaW5zIiwiX2kiLCJwbHVnaW5zXzEiLCJtZXJnZVdlYlBsdWdpbiIsInBsYXRmb3JtcyIsInNob3VsZE1lcmdlV2ViUGx1Z2luIiwiZXh0ZW5kU3RhdGljcyIsImIiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwiX19leHRlbmRzIiwiX18iLCJjb25zdHJ1Y3RvciIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsImZ1bGZpbGxlZCIsInN0ZXAiLCJuZXh0IiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsImFwcGx5IiwiX19nZW5lcmF0b3IiLCJib2R5IiwiZiIsInkiLCJnIiwiXyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJ2ZXJiIiwidGhyb3ciLCJyZXR1cm4iLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsInBvcCIsImJyb3dzZXJfQnJvd3NlclBsdWdpbldlYiIsIl9zdXBlciIsIkJyb3dzZXJQbHVnaW5XZWIiLCJvcGVuIiwib3B0aW9ucyIsIl9hIiwiX2xhc3RXaW5kb3ciLCJ1cmwiLCJ3aW5kb3dOYW1lIiwicHJlZmV0Y2giLCJfb3B0aW9ucyIsImNsb3NlIiwiQnJvd3NlciIsImNhbWVyYV9DYW1lcmFQbHVnaW5XZWIiLCJDYW1lcmFQbHVnaW5XZWIiLCJnZXRQaG90byIsImNhbWVyYU1vZGFsIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJjb21wb25lbnRPblJlYWR5IiwicGhvdG8iLCJfYiIsImRldGFpbCIsIl9nZXRDYW1lcmFQaG90byIsImRpc21pc3MiLCJwcmVzZW50IiwicmVhZGVyIiwiRmlsZVJlYWRlciIsInJlYWRBc0RhdGFVUkwiLCJvbmxvYWRlbmQiLCJiYXNlNjREYXRhIiwid2ViUGF0aCIsImZvcm1hdCIsIm9uZXJyb3IiLCJDYW1lcmEiLCJjbGlwYm9hcmRfQ2xpcGJvYXJkUGx1Z2luV2ViIiwiQ2xpcGJvYXJkUGx1Z2luV2ViIiwid3JpdGUiLCJuYXZpZ2F0b3IiLCJjbGlwYm9hcmQiLCJzdHJpbmciLCJ3cml0ZVRleHQiLCJpbWFnZSIsInJlYWQiLCJpdGVtIiwiaXRlbXMiLCJ0eXBlIiwiZ2V0QXMiLCJDbGlwYm9hcmQiLCJleHRlbmQiLCJvYmpzIiwiYXJndW1lbnRzIiwiayIsImdlb2xvY2F0aW9uX0dlb2xvY2F0aW9uUGx1Z2luV2ViIiwiR2VvbG9jYXRpb25QbHVnaW5XZWIiLCJnZXRDdXJyZW50UG9zaXRpb24iLCJfcmVzdWx0IiwiZ2VvbG9jYXRpb24iLCJwb3MiLCJlcnIiLCJlbmFibGVIaWdoQWNjdXJhY3kiLCJ0aW1lb3V0IiwibWF4aW11bUFnZSIsIndhdGNoUG9zaXRpb24iLCJjYWxsYmFjayIsImNsZWFyV2F0Y2giLCJwYXJzZUludCIsImlkIiwiR2VvbG9jYXRpb24iLCJkZXZpY2VfRGV2aWNlUGx1Z2luV2ViIiwiRGV2aWNlUGx1Z2luV2ViIiwiZ2V0SW5mbyIsInVhIiwidWFGaWVsZHMiLCJiYXR0ZXJ5IiwidXNlckFnZW50IiwicGFyc2VVYSIsImdldEJhdHRlcnkiLCJtb2RlbCIsImFwcFZlcnNpb24iLCJvc1ZlcnNpb24iLCJtYW51ZmFjdHVyZXIiLCJ2ZW5kb3IiLCJpc1ZpcnR1YWwiLCJiYXR0ZXJ5TGV2ZWwiLCJsZXZlbCIsImlzQ2hhcmdpbmciLCJjaGFyZ2luZyIsInV1aWQiLCJnZXRVaWQiLCJfdWEiLCJzdGFydCIsImVuZCIsImZpZWxkcyIsInN1YnN0cmluZyIsInJlcGxhY2UiLCJzcGxpdCIsIm9zY3B1IiwibGFzdFBhcnRzIiwidWlkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInNldEl0ZW0iLCJEZXZpY2UiLCJzaGFyZV9TaGFyZVBsdWdpbldlYiIsIlNoYXJlUGx1Z2luV2ViIiwic2hhcmUiLCJ0aXRsZSIsInRleHQiLCJTaGFyZSIsIm1vZGFsc19Nb2RhbHNQbHVnaW5XZWIiLCJNb2RhbHNQbHVnaW5XZWIiLCJhbGVydCIsIm1lc3NhZ2UiLCJwcm9tcHQiLCJ2YWwiLCJpbnB1dFBsYWNlaG9sZGVyIiwiY2FuY2VsbGVkIiwiY29uZmlybSIsInNob3dBY3Rpb25zIiwiX3JlamVjdCIsImNvbnRyb2xsZXIiLCJxdWVyeVNlbGVjdG9yIiwibWFwIiwicm9sZSIsInN0eWxlIiwidG9Mb3dlckNhc2UiLCJpY29uIiwiYnV0dG9ucyIsIk1vZGFscyIsInN0b3JhZ2VfU3RvcmFnZVBsdWdpbldlYiIsIlN0b3JhZ2VQbHVnaW5XZWIiLCJLRVlfUFJFRklYIiwibWFrZUtleSIsInNldCIsInJlbW92ZUl0ZW0iLCJrZXlzIiwiZmlsdGVyIiwiaXNLZXkiLCJnZXRLZXkiLCJjbGVhciIsInN1YnN0ciIsIlN0b3JhZ2UiLCJ0b2FzdF9Ub2FzdFBsdWdpbldlYiIsIlRvYXN0UGx1Z2luV2ViIiwic2hvdyIsImR1cmF0aW9uIiwicG9zaXRpb24iLCJUb2FzdCIsInJlZ2lzdGVyV2ViUGx1Z2luIiwiQnJvd3NlckJyaWRnZV8xIiwiVG9hc3RCcmlkZ2VfMSIsIkNvbnNvbGVCcmlkZ2VfMSIsIkNhbWVyYUJyaWRnZV8xIiwiRGV2aWNlQnJpZGdlXzEiLCJHZW9sb2NhdGlvbkJyaWRnZV8xIiwiS2V5Ym9hcmRCcmlkZ2VfMSIsIk1vZGFsc0JyaWRnZV8xIiwiU3RvcmFnZUJyaWRnZV8xIiwiU2hhcmVCcmlkZ2VfMSIsIlN0YXR1c0JhckJyaWRnZV8xIiwiU3BsYXNoU2NyZWVuQnJpZGdlXzEiLCJOZXR3b3JrQnJpZGdlXzEiLCJNb3Rpb25CcmlkZ2VfMSIsIkhhcHRpY3NCcmlkZ2VfMSIsIkZpbGVzeXN0ZW1CcmlkZ2VfMSIsIkNsaXBib2FyZEJyaWRnZV8xIiwiQmFja2dyb3VuZFRhc2tCcmlkZ2VfMSIsIkFwcEJyaWRnZV8xIiwiQWNjZXNzaWJpbGl0eUJyaWRnZV8xIiwiQmlvbmljQ2FwYWNpdG9yQnJpZGdlIiwiYnJpZGdlIiwiZXh0ZW5zaW9uT2JqZWN0IiwiQWNjZXNzaWJpbGl0eSIsIkFjY2Vzc2liaWxpdHlCcmlkZ2UiLCJBcHAiLCJBcHBCcmlkZ2UiLCJCYWNrZ3JvdW5kVGFzayIsIkJhY2tncm91bmRUYXNrQnJpZGdlIiwiQnJvd3NlckJyaWRnZSIsIkNhbWVyYUJyaWRnZSIsIkNsaXBib2FyZEJyaWRnZSIsIkNvbnNvbGUiLCJDb25zb2xlQnJpZGdlIiwiRGV2aWNlQnJpZGdlIiwiRmlsZXN5c3RlbSIsIkZpbGVzeXN0ZW1CcmlkZ2UiLCJHZW9sb2NhdGlvbkJyaWRnZSIsIkhhcHRpY3MiLCJIYXB0aWNzQnJpZGdlIiwiS2V5Ym9hcmQiLCJLZXlib2FyZEJyaWRnZSIsIk1vZGFsc0JyaWRnZSIsIk1vdGlvbiIsIk1vdGlvbkJyaWRnZSIsIk5ldHdvcmsiLCJOZXR3b3JrQnJpZGdlIiwiU2hhcmVCcmlkZ2UiLCJTcGxhc2hTY3JlZW4iLCJTcGxhc2hTY3JlZW5CcmlkZ2UiLCJTdGF0dXNCYXIiLCJTdGF0dXNCYXJCcmlkZ2UiLCJTdG9yYWdlQnJpZGdlIiwiVG9hc3RCcmlkZ2UiLCJpbml0aWFsaXplIiwiYXNzaWduIiwiY29yZV8xIiwiV2F0Y2hlciIsIltvYmplY3QgT2JqZWN0XSIsImluZm8iLCJsb2ciLCJKU09OIiwic3RyaW5naWZ5IiwiRG90TmV0IiwiaW52b2tlTWV0aG9kQXN5bmMiLCJ3YXRjaGVycyIsImhhcyIsIndhdGNoZXIiLCJyZXBvcnRGcm9tQnJvd3Nlckxpc3RlbmVyIiwiTWFwIiwiZGVsZXRlIiwiZ2VvbG9jYXRpb25DYWxsYmFjayIsImhpZGUiLCJpc1Zpc2libGUiLCJzZXRBY2Nlc3NvcnlCYXJWaXNpYmxlIiwicGFyc2UiLCJjb2xvciIsInNldEJhY2tncm91bmRDb2xvciIsInNldFN0eWxlIiwiRGFyayIsIkxpZ2h0Iiwic3RhdHVzIiwiZ2V0U3RhdHVzIiwibmV0d29ya0xpc3RlbmVyIiwibW90aW9uQWNjZWxMaXN0ZW5lciIsIm1vdGlvbk9yaWVudGF0aW9uTGlzdGVuZXIiLCJ2aWJyYXRlIiwic3R5bGVPcHRpb24iLCJIZWF2eSIsIk1lZGl1bSIsImltcGFjdCIsInNlbGVjdGlvblN0YXJ0Iiwic2VsZWN0aW9uQ2hhbmdlZCIsInNlbGVjdGlvbkVuZCIsImVuY29kaW5nIiwidHJhbnNsYXRlRW5jb2RlIiwiZGlyZWN0b3J5IiwidHJhbnNsYXRlRGlyZWN0b3J5IiwiYXBwZW5kRmlsZSIsImRlbGV0ZUZpbGUiLCJnZXRVcmkiLCJta2RpciIsInJlYWRGaWxlIiwicmVhZGRpciIsInJtZGlyIiwic3RhdCIsIndyaXRlRmlsZSIsImVuY29kZSIsIkFTQ0lJIiwiVVRGMTYiLCJVVEY4IiwiRG9jdW1lbnRzIiwiRGF0YSIsIkNhY2hlIiwiRXh0ZXJuYWwiLCJFeHRlcm5hbFN0b3JhZ2UiLCJBcHBsaWNhdGlvbiIsInRyYW5zbGF0ZUNsaXBib2FyZFR5cGUiLCJzdHIiLCJiZWZvcmVFeGl0IiwiYmVmb3JlRXhpdENhbGxiYWNrIiwid2F0Y2hlcklkIiwiZmluaXNoIiwidGFza0lkIiwic3RhdGUiLCJjYW5PcGVuVXJsIiwiZXhpdEFwcCIsImdldExhdW5jaFVybCIsIm9wZW5VcmwiLCJjb21wbGV0ZWQiLCJhcHBTdGF0ZUNoYW5nZUxpc3RlbmVyIiwiYXBwVXJsT3Blbkxpc3RlbmVyIiwiYXBwUmVzdG9yZWRSZXN1bHRMaXN0ZW5lciIsImJhY2tCdXR0b25MaXN0ZW5lciIsImlzU2NyZWVuUmVhZGVyRW5hYmxlZCIsInNwZWFrIiwiYWNjZXNzaWJpbGl0eVNjcmVlblJlYWRlclN0YXRlQ2hhbmdlTGlzdGVuZXIiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsYUFBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixF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QVUsRUFBUXpKLEdBQUtBLEVBQ2J5SixFQUFRclMsY0FBZ0J5UCxFQUFjclAsWUFDcEMsdUNBQ0FpUyxFQUFRcUUsNkNBQTZDemEsS0FBS29XLElBRTVEM0MsRUFBb0J5QyxTQUFTakYsSUFBSXRFLEVBQUl5SixHQUM5QixJQUFJclUsUUFBY3dELEdBQVdBLEtBQ3BDLE1BQU9uRCxHQUNQLE9BQU8sSUFBSUwsUUFBYyxDQUFDekMsRUFBRzBDLElBQVdBLEVBQU9JLEVBQUV3TixhQUkvQytGLGVBQWVoSiwyQ0FDbkIsSUFDRSxNQUFNeUosRUFBVTNDLEVBQW9CeUMsU0FBUzdXLElBQUlzTixHQUtqRCxPQUpJeUosR0FBV0EsRUFBUXJTLFVBQ3JCcVMsRUFBUTdSLFNBQ1JrUCxFQUFvQnlDLFNBQVNLLE9BQU81SixJQUUvQixJQUFJNUssUUFBY3dELEdBQVdBLEtBQ3BDLE1BQU9uRCxHQUNQLE9BQU8sSUFBSUwsUUFBYyxDQUFDekMsRUFBRzBDLElBQVdBLEVBQU9JLEVBQUV3TixjQXZDdEM2RCxFQUFBeUMsU0FBVyxJQUFJSSxJQURoQ2hZLEVBQUFtViIsImZpbGUiOiJiaW9uaWMuYnJpZGdlLmNhcGFjaXRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsImV4cG9ydCB2YXIgQ2FtZXJhU291cmNlO1xuKGZ1bmN0aW9uIChDYW1lcmFTb3VyY2UpIHtcbiAgICBDYW1lcmFTb3VyY2VbXCJQcm9tcHRcIl0gPSBcIlBST01QVFwiO1xuICAgIENhbWVyYVNvdXJjZVtcIkNhbWVyYVwiXSA9IFwiQ0FNRVJBXCI7XG4gICAgQ2FtZXJhU291cmNlW1wiUGhvdG9zXCJdID0gXCJQSE9UT1NcIjtcbn0pKENhbWVyYVNvdXJjZSB8fCAoQ2FtZXJhU291cmNlID0ge30pKTtcbmV4cG9ydCB2YXIgQ2FtZXJhUmVzdWx0VHlwZTtcbihmdW5jdGlvbiAoQ2FtZXJhUmVzdWx0VHlwZSkge1xuICAgIENhbWVyYVJlc3VsdFR5cGVbXCJVcmlcIl0gPSBcInVyaVwiO1xuICAgIENhbWVyYVJlc3VsdFR5cGVbXCJCYXNlNjRcIl0gPSBcImJhc2U2NFwiO1xufSkoQ2FtZXJhUmVzdWx0VHlwZSB8fCAoQ2FtZXJhUmVzdWx0VHlwZSA9IHt9KSk7XG5leHBvcnQgdmFyIEZpbGVzeXN0ZW1EaXJlY3Rvcnk7XG4oZnVuY3Rpb24gKEZpbGVzeXN0ZW1EaXJlY3RvcnkpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgQXBwbGljYXRpb24gZGlyZWN0b3J5XG4gICAgICovXG4gICAgRmlsZXN5c3RlbURpcmVjdG9yeVtcIkFwcGxpY2F0aW9uXCJdID0gXCJBUFBMSUNBVElPTlwiO1xuICAgIC8qKlxuICAgICAqIFRoZSBEb2N1bWVudHMgZGlyZWN0b3J5XG4gICAgICovXG4gICAgRmlsZXN5c3RlbURpcmVjdG9yeVtcIkRvY3VtZW50c1wiXSA9IFwiRE9DVU1FTlRTXCI7XG4gICAgLyoqXG4gICAgICogVGhlIERhdGEgZGlyZWN0b3J5XG4gICAgICovXG4gICAgRmlsZXN5c3RlbURpcmVjdG9yeVtcIkRhdGFcIl0gPSBcIkRBVEFcIjtcbiAgICAvKipcbiAgICAgKiBUaGUgQ2FjaGUgZGlyZWN0b3J5XG4gICAgICovXG4gICAgRmlsZXN5c3RlbURpcmVjdG9yeVtcIkNhY2hlXCJdID0gXCJDQUNIRVwiO1xuICAgIC8qKlxuICAgICAqIFRoZSBleHRlcm5hbCBkaXJlY3RvcnkgKEFuZHJvaWQgb25seSlcbiAgICAgKi9cbiAgICBGaWxlc3lzdGVtRGlyZWN0b3J5W1wiRXh0ZXJuYWxcIl0gPSBcIkVYVEVSTkFMXCI7XG4gICAgLyoqXG4gICAgICogVGhlIGV4dGVybmFsIHN0b3JhZ2UgZGlyZWN0b3J5IChBbmRyb2lkIG9ubHkpXG4gICAgICovXG4gICAgRmlsZXN5c3RlbURpcmVjdG9yeVtcIkV4dGVybmFsU3RvcmFnZVwiXSA9IFwiRVhURVJOQUxfU1RPUkFHRVwiO1xufSkoRmlsZXN5c3RlbURpcmVjdG9yeSB8fCAoRmlsZXN5c3RlbURpcmVjdG9yeSA9IHt9KSk7XG5leHBvcnQgdmFyIEZpbGVzeXN0ZW1FbmNvZGluZztcbihmdW5jdGlvbiAoRmlsZXN5c3RlbUVuY29kaW5nKSB7XG4gICAgRmlsZXN5c3RlbUVuY29kaW5nW1wiVVRGOFwiXSA9IFwidXRmOFwiO1xuICAgIEZpbGVzeXN0ZW1FbmNvZGluZ1tcIkFTQ0lJXCJdID0gXCJhc2NpaVwiO1xuICAgIEZpbGVzeXN0ZW1FbmNvZGluZ1tcIlVURjE2XCJdID0gXCJ1dGYxOFwiO1xufSkoRmlsZXN5c3RlbUVuY29kaW5nIHx8IChGaWxlc3lzdGVtRW5jb2RpbmcgPSB7fSkpO1xuZXhwb3J0IHZhciBIYXB0aWNzSW1wYWN0U3R5bGU7XG4oZnVuY3Rpb24gKEhhcHRpY3NJbXBhY3RTdHlsZSkge1xuICAgIEhhcHRpY3NJbXBhY3RTdHlsZVtcIkhlYXZ5XCJdID0gXCJIRUFWWVwiO1xuICAgIEhhcHRpY3NJbXBhY3RTdHlsZVtcIk1lZGl1bVwiXSA9IFwiTUVESVVNXCI7XG4gICAgSGFwdGljc0ltcGFjdFN0eWxlW1wiTGlnaHRcIl0gPSBcIkxJR0hUXCI7XG59KShIYXB0aWNzSW1wYWN0U3R5bGUgfHwgKEhhcHRpY3NJbXBhY3RTdHlsZSA9IHt9KSk7XG5leHBvcnQgdmFyIEFjdGlvblNoZWV0T3B0aW9uU3R5bGU7XG4oZnVuY3Rpb24gKEFjdGlvblNoZWV0T3B0aW9uU3R5bGUpIHtcbiAgICBBY3Rpb25TaGVldE9wdGlvblN0eWxlW1wiRGVmYXVsdFwiXSA9IFwiREVGQVVMVFwiO1xuICAgIEFjdGlvblNoZWV0T3B0aW9uU3R5bGVbXCJEZXN0cnVjdGl2ZVwiXSA9IFwiREVTVFJVQ1RJVkVcIjtcbiAgICBBY3Rpb25TaGVldE9wdGlvblN0eWxlW1wiQ2FuY2VsXCJdID0gXCJDQU5DRUxcIjtcbn0pKEFjdGlvblNoZWV0T3B0aW9uU3R5bGUgfHwgKEFjdGlvblNoZWV0T3B0aW9uU3R5bGUgPSB7fSkpO1xuZXhwb3J0IHZhciBQaG90b3NBbGJ1bVR5cGU7XG4oZnVuY3Rpb24gKFBob3Rvc0FsYnVtVHlwZSkge1xuICAgIC8qKlxuICAgICAqIEFsYnVtIGlzIGEgXCJzbWFydFwiIGFsYnVtIChzdWNoIGFzIEZhdm9yaXRlcyBvciBSZWNlbnRseSBBZGRlZClcbiAgICAgKi9cbiAgICBQaG90b3NBbGJ1bVR5cGVbXCJTbWFydFwiXSA9IFwic21hcnRcIjtcbiAgICAvKipcbiAgICAgKiBBbGJ1bSBpcyBhIGNsb3VkLXNoYXJlZCBhbGJ1bVxuICAgICAqL1xuICAgIFBob3Rvc0FsYnVtVHlwZVtcIlNoYXJlZFwiXSA9IFwic2hhcmVkXCI7XG4gICAgLyoqXG4gICAgICogQWxidW0gaXMgYSB1c2VyLWNyZWF0ZWQgYWxidW1cbiAgICAgKi9cbiAgICBQaG90b3NBbGJ1bVR5cGVbXCJVc2VyXCJdID0gXCJ1c2VyXCI7XG59KShQaG90b3NBbGJ1bVR5cGUgfHwgKFBob3Rvc0FsYnVtVHlwZSA9IHt9KSk7XG5leHBvcnQgdmFyIFN0YXR1c0JhclN0eWxlO1xuKGZ1bmN0aW9uIChTdGF0dXNCYXJTdHlsZSkge1xuICAgIFN0YXR1c0JhclN0eWxlW1wiRGFya1wiXSA9IFwiREFSS1wiO1xuICAgIFN0YXR1c0JhclN0eWxlW1wiTGlnaHRcIl0gPSBcIkxJR0hUXCI7XG59KShTdGF0dXNCYXJTdHlsZSB8fCAoU3RhdHVzQmFyU3R5bGUgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29yZS1wbHVnaW4tZGVmaW5pdGlvbnMuanMubWFwIiwidmFyIENhcGFjaXRvcldlYiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDYXBhY2l0b3JXZWIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuUGx1Z2lucyA9IHt9O1xuICAgICAgICB0aGlzLnBsYXRmb3JtID0gJ3dlYic7XG4gICAgICAgIHRoaXMuaXNOYXRpdmUgPSBmYWxzZTtcbiAgICAgICAgLy8gQnVpbGQgYSBwcm94eSBmb3IgdGhlIFBsdWdpbnMgb2JqZWN0IHRoYXQgcmV0dXJucyB0aGUgXCJOb29wIFBsdWdpblwiXG4gICAgICAgIC8vIGlmIGEgcGx1Z2luIGlzbid0IGF2YWlsYWJsZVxuICAgICAgICB0aGlzLlBsdWdpbnMgPSBuZXcgUHJveHkodGhpcy5QbHVnaW5zLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICh0YXJnZXQsIHByb3ApIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldFtwcm9wXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNSZWZfMSA9IF90aGlzO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb3h5KHt9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIChfdGFyZ2V0LCBfcHJvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgX3RhcmdldFtfcHJvcF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzUmVmXzEucGx1Z2luTWV0aG9kTm9vcC5iaW5kKHRoaXNSZWZfMSwgX3RhcmdldCwgX3Byb3AsIHByb3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90YXJnZXRbX3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0W3Byb3BdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIENhcGFjaXRvcldlYi5wcm90b3R5cGUucGx1Z2luTWV0aG9kTm9vcCA9IGZ1bmN0aW9uIChfdGFyZ2V0LCBfcHJvcCwgcGx1Z2luTmFtZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocGx1Z2luTmFtZSArIFwiIGRvZXMgbm90IGhhdmUgd2ViIGltcGxlbWVudGF0aW9uLlwiKTtcbiAgICB9O1xuICAgIENhcGFjaXRvcldlYi5wcm90b3R5cGUuZ2V0UGxhdGZvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBsYXRmb3JtO1xuICAgIH07XG4gICAgQ2FwYWNpdG9yV2ViLnByb3RvdHlwZS5pc1BsdWdpbkF2YWlsYWJsZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlBsdWdpbnMuaGFzT3duUHJvcGVydHkobmFtZSk7XG4gICAgfTtcbiAgICBDYXBhY2l0b3JXZWIucHJvdG90eXBlLmhhbmRsZUVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICB9O1xuICAgIHJldHVybiBDYXBhY2l0b3JXZWI7XG59KCkpO1xuZXhwb3J0IHsgQ2FwYWNpdG9yV2ViIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD13ZWItcnVudGltZS5qcy5tYXAiLCJpbXBvcnQgeyBDYXBhY2l0b3JXZWIgfSBmcm9tICcuL3dlYi1ydW50aW1lJztcbi8vIENyZWF0ZSBvdXIgZGVmYXVsdCBDYXBhY2l0b3IgaW5zdGFuY2UsIHdoaWNoIHdpbGwgYmVcbi8vIG92ZXJyaWRkZW4gb24gbmF0aXZlIHBsYXRmb3Jtc1xudmFyIENhcGFjaXRvciA9IG5ldyBDYXBhY2l0b3JXZWIoKTtcbkNhcGFjaXRvciA9IHdpbmRvdy5DYXBhY2l0b3IgfHwgQ2FwYWNpdG9yO1xuLy8gRXhwb3J0IHdpbmRvdy5DYXBhY2l0b3IgaWYgbm90IGF2YWlsYWJsZSBhbHJlYWR5IChleDogd2ViKVxuaWYgKCF3aW5kb3cuQ2FwYWNpdG9yKSB7XG4gICAgd2luZG93LkNhcGFjaXRvciA9IENhcGFjaXRvcjtcbn1cbnZhciBQbHVnaW5zID0gQ2FwYWNpdG9yLlBsdWdpbnM7XG5leHBvcnQgeyBDYXBhY2l0b3IsIFBsdWdpbnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdsb2JhbC5qcy5tYXAiLCJ2YXIgV2ViUGx1Z2luUmVnaXN0cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gV2ViUGx1Z2luUmVnaXN0cnkoKSB7XG4gICAgICAgIHRoaXMucGx1Z2lucyA9IHt9O1xuICAgICAgICB0aGlzLmxvYWRlZFBsdWdpbnMgPSB7fTtcbiAgICB9XG4gICAgV2ViUGx1Z2luUmVnaXN0cnkucHJvdG90eXBlLmFkZFBsdWdpbiA9IGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgdGhpcy5wbHVnaW5zW3BsdWdpbi5jb25maWcubmFtZV0gPSBwbHVnaW47XG4gICAgfTtcbiAgICBXZWJQbHVnaW5SZWdpc3RyeS5wcm90b3R5cGUuZ2V0UGx1Z2luID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGx1Z2luc1tuYW1lXTtcbiAgICB9O1xuICAgIFdlYlBsdWdpblJlZ2lzdHJ5LnByb3RvdHlwZS5sb2FkUGx1Z2luID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdmFyIHBsdWdpbiA9IHRoaXMuZ2V0UGx1Z2luKG5hbWUpO1xuICAgICAgICBpZiAoIXBsdWdpbikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlVuYWJsZSB0byBsb2FkIHdlYiBwbHVnaW4gXCIgKyBuYW1lICsgXCIsIG5vIHN1Y2ggcGx1Z2luIGZvdW5kLlwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwbHVnaW4ubG9hZCgpO1xuICAgIH07XG4gICAgV2ViUGx1Z2luUmVnaXN0cnkucHJvdG90eXBlLmdldFBsdWdpbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwID0gW107XG4gICAgICAgIGZvciAodmFyIG5hbWVfMSBpbiB0aGlzLnBsdWdpbnMpIHtcbiAgICAgICAgICAgIHAucHVzaCh0aGlzLnBsdWdpbnNbbmFtZV8xXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfTtcbiAgICByZXR1cm4gV2ViUGx1Z2luUmVnaXN0cnk7XG59KCkpO1xuZXhwb3J0IHsgV2ViUGx1Z2luUmVnaXN0cnkgfTtcbnZhciBXZWJQbHVnaW5zID0gbmV3IFdlYlBsdWdpblJlZ2lzdHJ5KCk7XG5leHBvcnQgeyBXZWJQbHVnaW5zIH07XG52YXIgV2ViUGx1Z2luID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFdlYlBsdWdpbihjb25maWcsIHBsdWdpblJlZ2lzdHJ5KSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLmxvYWRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IHt9O1xuICAgICAgICB0aGlzLndpbmRvd0xpc3RlbmVycyA9IHt9O1xuICAgICAgICBpZiAoIXBsdWdpblJlZ2lzdHJ5KSB7XG4gICAgICAgICAgICBXZWJQbHVnaW5zLmFkZFBsdWdpbih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBsdWdpblJlZ2lzdHJ5LmFkZFBsdWdpbih0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBXZWJQbHVnaW4ucHJvdG90eXBlLmFkZFdpbmRvd0xpc3RlbmVyID0gZnVuY3Rpb24gKGhhbmRsZSkge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihoYW5kbGUud2luZG93RXZlbnROYW1lLCBoYW5kbGUuaGFuZGxlcik7XG4gICAgICAgIGhhbmRsZS5yZWdpc3RlcmVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIFdlYlBsdWdpbi5wcm90b3R5cGUucmVtb3ZlV2luZG93TGlzdGVuZXIgPSBmdW5jdGlvbiAoaGFuZGxlKSB7XG4gICAgICAgIGlmICghaGFuZGxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoaGFuZGxlLndpbmRvd0V2ZW50TmFtZSwgaGFuZGxlLmhhbmRsZXIpO1xuICAgICAgICBoYW5kbGUucmVnaXN0ZXJlZCA9IGZhbHNlO1xuICAgIH07XG4gICAgV2ViUGx1Z2luLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGxpc3RlbmVyRnVuYykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXTtcbiAgICAgICAgaWYgKCFsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdLnB1c2gobGlzdGVuZXJGdW5jKTtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZW4ndCBhZGRlZCBhIHdpbmRvdyBsaXN0ZW5lciBmb3IgdGhpcyBldmVudCBhbmQgaXQgcmVxdWlyZXMgb25lLFxuICAgICAgICAvLyBnbyBhaGVhZCBhbmQgYWRkIGl0XG4gICAgICAgIHZhciB3aW5kb3dMaXN0ZW5lciA9IHRoaXMud2luZG93TGlzdGVuZXJzW2V2ZW50TmFtZV07XG4gICAgICAgIGlmICh3aW5kb3dMaXN0ZW5lciAmJiAhd2luZG93TGlzdGVuZXIucmVnaXN0ZXJlZCkge1xuICAgICAgICAgICAgdGhpcy5hZGRXaW5kb3dMaXN0ZW5lcih3aW5kb3dMaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXJGdW5jKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFdlYlBsdWdpbi5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBsaXN0ZW5lckZ1bmMpIHtcbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV07XG4gICAgICAgIGlmICghbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXJGdW5jKTtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gbW9yZSBsaXN0ZW5lcnMgZm9yIHRoaXMgdHlwZSBvZiBldmVudCxcbiAgICAgICAgLy8gcmVtb3ZlIHRoZSB3aW5kb3cgbGlzdGVuZXJcbiAgICAgICAgaWYgKCF0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVXaW5kb3dMaXN0ZW5lcih0aGlzLndpbmRvd0xpc3RlbmVyc1tldmVudE5hbWVdKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgV2ViUGx1Z2luLnByb3RvdHlwZS5ub3RpZnlMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBkYXRhKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdO1xuICAgICAgICBsaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHsgcmV0dXJuIGxpc3RlbmVyKGRhdGEpOyB9KTtcbiAgICB9O1xuICAgIFdlYlBsdWdpbi5wcm90b3R5cGUuaGFzTGlzdGVuZXJzID0gZnVuY3Rpb24gKGV2ZW50TmFtZSkge1xuICAgICAgICByZXR1cm4gISF0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdLmxlbmd0aDtcbiAgICB9O1xuICAgIFdlYlBsdWdpbi5wcm90b3R5cGUucmVnaXN0ZXJXaW5kb3dMaXN0ZW5lciA9IGZ1bmN0aW9uICh3aW5kb3dFdmVudE5hbWUsIHBsdWdpbkV2ZW50TmFtZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLndpbmRvd0xpc3RlbmVyc1twbHVnaW5FdmVudE5hbWVdID0ge1xuICAgICAgICAgICAgcmVnaXN0ZXJlZDogZmFsc2UsXG4gICAgICAgICAgICB3aW5kb3dFdmVudE5hbWU6IHdpbmRvd0V2ZW50TmFtZSxcbiAgICAgICAgICAgIHBsdWdpbkV2ZW50TmFtZTogcGx1Z2luRXZlbnROYW1lLFxuICAgICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubm90aWZ5TGlzdGVuZXJzKHBsdWdpbkV2ZW50TmFtZSwgZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG4gICAgV2ViUGx1Z2luLnByb3RvdHlwZS5yZXF1ZXN0UGVybWlzc2lvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChDYXBhY2l0b3IuaXNOYXRpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiBDYXBhY2l0b3IubmF0aXZlUHJvbWlzZSh0aGlzLmNvbmZpZy5uYW1lLCAncmVxdWVzdFBlcm1pc3Npb25zJywge30pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7IHJlc3VsdHM6IFtdIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBXZWJQbHVnaW4ucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiBXZWJQbHVnaW47XG59KCkpO1xuZXhwb3J0IHsgV2ViUGx1Z2luIH07XG52YXIgc2hvdWxkTWVyZ2VXZWJQbHVnaW4gPSBmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgcmV0dXJuIHBsdWdpbi5jb25maWcucGxhdGZvcm1zICYmIHBsdWdpbi5jb25maWcucGxhdGZvcm1zLmluZGV4T2YoQ2FwYWNpdG9yLnBsYXRmb3JtKSA+PSAwO1xufTtcbi8qKlxuICogRm9yIGFsbCBvdXIga25vd24gd2ViIHBsdWdpbnMsIG1lcmdlIHRoZW0gaW50byB0aGUgZ2xvYmFsIHBsdWdpbnNcbiAqIHJlZ2lzdHJ5IGlmIHRoZXkgYXJlbid0IGFscmVhZHkgZXhpc3RpbmcuIElmIHRoZXkgZG9uJ3QgZXhpc3QsIHRoYXRcbiAqIG1lYW5zIHRoZXJlJ3Mgbm8gZXhpc3RpbmcgbmF0aXZlIGltcGxlbWVudGF0aW9uIGZvciBpdC5cbiAqIEBwYXJhbSBrbm93blBsdWdpbnMgdGhlIENhcGFjaXRvci5QbHVnaW5zIGdsb2JhbCByZWdpc3RyeS5cbiAqL1xuZXhwb3J0IHZhciBtZXJnZVdlYlBsdWdpbnMgPSBmdW5jdGlvbiAoa25vd25QbHVnaW5zKSB7XG4gICAgdmFyIHBsdWdpbnMgPSBXZWJQbHVnaW5zLmdldFBsdWdpbnMoKTtcbiAgICBmb3IgKHZhciBfaSA9IDAsIHBsdWdpbnNfMSA9IHBsdWdpbnM7IF9pIDwgcGx1Z2luc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgcGx1Z2luID0gcGx1Z2luc18xW19pXTtcbiAgICAgICAgbWVyZ2VXZWJQbHVnaW4oa25vd25QbHVnaW5zLCBwbHVnaW4pO1xuICAgIH1cbn07XG5leHBvcnQgdmFyIG1lcmdlV2ViUGx1Z2luID0gZnVuY3Rpb24gKGtub3duUGx1Z2lucywgcGx1Z2luKSB7XG4gICAgLy8gSWYgd2UgYWxyZWFkeSBoYXZlIGEgcGx1Z2luIHJlZ2lzdGVyZWQgKG1lYW5pbmcgaXQgd2FzIGRlZmluZWQgaW4gdGhlIG5hdGl2ZSBsYXllciksXG4gICAgLy8gdGhlbiB3ZSBzaG91bGQgb25seSBvdmVyd3JpdGUgaXQgaWYgdGhlIGNvcnJlc3BvbmRpbmcgd2ViIHBsdWdpbiBhY3RpdmF0ZXMgb25cbiAgICAvLyBhIGNlcnRhaW4gcGxhdGZvcm0uIEZvciBleGFtcGxlOiBHZW9sb2NhdGlvbiB1c2VzIHRoZSBXZWJQbHVnaW4gb24gQW5kcm9pZCBidXQgbm90IGlPU1xuICAgIGlmIChrbm93blBsdWdpbnMuaGFzT3duUHJvcGVydHkocGx1Z2luLmNvbmZpZy5uYW1lKSAmJiAhc2hvdWxkTWVyZ2VXZWJQbHVnaW4ocGx1Z2luKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGtub3duUGx1Z2luc1twbHVnaW4uY29uZmlnLm5hbWVdID0gcGx1Z2luO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMClcclxuICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFdlYlBsdWdpbiB9IGZyb20gJy4vaW5kZXgnO1xudmFyIEJyb3dzZXJQbHVnaW5XZWIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQnJvd3NlclBsdWdpbldlYiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCcm93c2VyUGx1Z2luV2ViKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgbmFtZTogJ0Jyb3dzZXInLFxuICAgICAgICAgICAgcGxhdGZvcm1zOiBbJ3dlYiddXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgfVxuICAgIEJyb3dzZXJQbHVnaW5XZWIucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0c2xpYl8xLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RXaW5kb3cgPSB3aW5kb3cub3BlbihvcHRpb25zLnVybCwgb3B0aW9ucy53aW5kb3dOYW1lIHx8IFwiX2JsYW5rXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBQcm9taXNlLnJlc29sdmUoKV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBCcm93c2VyUGx1Z2luV2ViLnByb3RvdHlwZS5wcmVmZXRjaCA9IGZ1bmN0aW9uIChfb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0c2xpYl8xLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIC8vIERvZXMgbm90aGluZ1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBQcm9taXNlLnJlc29sdmUoKV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBCcm93c2VyUGx1Z2luV2ViLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRzbGliXzEuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0V2luZG93ICYmIHRoaXMuX2xhc3RXaW5kb3cuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZXNvbHZlKCldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEJyb3dzZXJQbHVnaW5XZWI7XG59KFdlYlBsdWdpbikpO1xuZXhwb3J0IHsgQnJvd3NlclBsdWdpbldlYiB9O1xudmFyIEJyb3dzZXIgPSBuZXcgQnJvd3NlclBsdWdpbldlYigpO1xuZXhwb3J0IHsgQnJvd3NlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnJvd3Nlci5qcy5tYXAiLCJpbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgV2ViUGx1Z2luIH0gZnJvbSAnLi9pbmRleCc7XG4vL2ltcG9ydCAnQGlvbmljL3B3YS1lbGVtZW50cyc7XG52YXIgQ2FtZXJhUGx1Z2luV2ViID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKENhbWVyYVBsdWdpbldlYiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDYW1lcmFQbHVnaW5XZWIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBuYW1lOiAnQ2FtZXJhJyxcbiAgICAgICAgICAgIHBsYXRmb3JtczogWyd3ZWInXVxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgIH1cbiAgICBDYW1lcmFQbHVnaW5XZWIucHJvdG90eXBlLmdldFBob3RvID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRzbGliXzEuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIHRzbGliXzEuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucztcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhbWVyYU1vZGFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRzbGliXzEuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW1lcmFNb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lvbi1wd2EtY2FtZXJhLW1vZGFsJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNhbWVyYU1vZGFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGNhbWVyYU1vZGFsLmNvbXBvbmVudE9uUmVhZHkoKV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbWVyYU1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ29uUGhvdG8nLCBmdW5jdGlvbiAoZSkgeyByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBob3RvLCBfYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvID0gZS5kZXRhaWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocGhvdG8gPT09IG51bGwpKSByZXR1cm4gWzMgLypicmVhayovLCAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYSA9IHJlc29sdmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fZ2V0Q2FtZXJhUGhvdG8ocGhvdG8pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5hcHBseSh2b2lkIDAsIFtfYi5zZW50KCldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FtZXJhTW9kYWwuZGlzbWlzcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FtZXJhTW9kYWwucHJlc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTsgfSldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQ2FtZXJhUGx1Z2luV2ViLnByb3RvdHlwZS5fZ2V0Q2FtZXJhUGhvdG8gPSBmdW5jdGlvbiAocGhvdG8pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwocGhvdG8pO1xuICAgICAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZTY0RGF0YTogcmVhZGVyLnJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgd2ViUGF0aDogcmVhZGVyLnJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiAnanBlZydcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gQ2FtZXJhUGx1Z2luV2ViO1xufShXZWJQbHVnaW4pKTtcbmV4cG9ydCB7IENhbWVyYVBsdWdpbldlYiB9O1xudmFyIENhbWVyYSA9IG5ldyBDYW1lcmFQbHVnaW5XZWIoKTtcbmV4cG9ydCB7IENhbWVyYSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FtZXJhLmpzLm1hcCIsImltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBXZWJQbHVnaW4gfSBmcm9tICcuL2luZGV4JztcbnZhciBDbGlwYm9hcmRQbHVnaW5XZWIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQ2xpcGJvYXJkUGx1Z2luV2ViLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENsaXBib2FyZFBsdWdpbldlYigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgIG5hbWU6ICdDbGlwYm9hcmQnLFxuICAgICAgICAgICAgcGxhdGZvcm1zOiBbJ3dlYiddXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgfVxuICAgIENsaXBib2FyZFBsdWdpbldlYi5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0c2xpYl8xLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFuYXZpZ2F0b3IuY2xpcGJvYXJkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIFByb21pc2UucmVqZWN0KCdDbGlwYm9hcmQgQVBJIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBicm93c2VyJyldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEob3B0aW9ucy5zdHJpbmcgfHwgb3B0aW9ucy51cmwpKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KG9wdGlvbnMuc3RyaW5nIHx8IG9wdGlvbnMubGFiZWwpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmltYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIFByb21pc2UucmVqZWN0KFwiU2V0dGluZyBpbWFnZXMgbm90IHN1cHBvcnRlZCBvbiB0aGUgd2ViXCIpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZXNvbHZlKCldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIENsaXBib2FyZFBsdWdpbldlYi5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uIChfb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkYXRhLCBfaSwgX2EsIGl0ZW07XG4gICAgICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbmF2aWdhdG9yLmNsaXBib2FyZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBQcm9taXNlLnJlamVjdCgnQ2xpcGJvYXJkIEFQSSBub3QgYXZhaWxhYmxlIGluIHRoaXMgYnJvd3NlcicpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIG5hdmlnYXRvci5jbGlwYm9hcmQucmVhZCgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoX2kgPSAwLCBfYSA9IGRhdGEuaXRlbXM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAndGV4dC9wbGFpbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIFByb21pc2UucmVzb2x2ZShpdGVtLmdldEFzKCd0ZXh0L3BsYWluJykpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZWplY3QoJ1VuYWJsZSB0byBnZXQgZGF0YSBmcm9tIGNsaXBib2FyZCcpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gQ2xpcGJvYXJkUGx1Z2luV2ViO1xufShXZWJQbHVnaW4pKTtcbmV4cG9ydCB7IENsaXBib2FyZFBsdWdpbldlYiB9O1xudmFyIENsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmRQbHVnaW5XZWIoKTtcbmV4cG9ydCB7IENsaXBib2FyZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xpcGJvYXJkLmpzLm1hcCIsImV4cG9ydCB2YXIgZXh0ZW5kID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIHZhciBvYmpzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb2Jqc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgb2Jqcy5mb3JFYWNoKGZ1bmN0aW9uIChvKSB7XG4gICAgICAgIGlmIChvICYmIHR5cGVvZiAobykgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBrIGluIG8pIHtcbiAgICAgICAgICAgICAgICBpZiAoby5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRba10gPSBvW2tdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0YXJnZXQ7XG59O1xuZXhwb3J0IHZhciB1dWlkNCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuICAgICAgICB2YXIgciA9IE1hdGgucmFuZG9tKCkgKiAxNiB8IDAsIHYgPSBjID09ICd4JyA/IHIgOiAociAmIDB4MyB8IDB4OCk7XG4gICAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgICB9KTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlsLmpzLm1hcCIsImltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBXZWJQbHVnaW4gfSBmcm9tICcuL2luZGV4JztcbmltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uL3V0aWwnO1xudmFyIEdlb2xvY2F0aW9uUGx1Z2luV2ViID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEdlb2xvY2F0aW9uUGx1Z2luV2ViLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEdlb2xvY2F0aW9uUGx1Z2luV2ViKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgbmFtZTogJ0dlb2xvY2F0aW9uJyxcbiAgICAgICAgICAgIHBsYXRmb3JtczogWyd3ZWInXVxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgIH1cbiAgICBHZW9sb2NhdGlvblBsdWdpbldlYi5wcm90b3R5cGUuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5yZXF1ZXN0UGVybWlzc2lvbnMoKS50aGVuKGZ1bmN0aW9uIChfcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgd2luZG93Lm5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oZnVuY3Rpb24gKHBvcykge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHBvcyk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9LCBleHRlbmQoe1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDEwMDAwLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtQWdlOiAwXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgR2VvbG9jYXRpb25QbHVnaW5XZWIucHJvdG90eXBlLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGlkID0gd2luZG93Lm5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKGZ1bmN0aW9uIChwb3MpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKHBvcyk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIGVycik7XG4gICAgICAgIH0sIGV4dGVuZCh7XG4gICAgICAgICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsXG4gICAgICAgICAgICB0aW1lb3V0OiAxMDAwMCxcbiAgICAgICAgICAgIG1heGltdW1BZ2U6IDBcbiAgICAgICAgfSwgb3B0aW9ucykpO1xuICAgICAgICByZXR1cm4gXCJcIiArIGlkO1xuICAgIH07XG4gICAgR2VvbG9jYXRpb25QbHVnaW5XZWIucHJvdG90eXBlLmNsZWFyV2F0Y2ggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB3aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2gocGFyc2VJbnQob3B0aW9ucy5pZCwgMTApKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIEdlb2xvY2F0aW9uUGx1Z2luV2ViO1xufShXZWJQbHVnaW4pKTtcbmV4cG9ydCB7IEdlb2xvY2F0aW9uUGx1Z2luV2ViIH07XG52YXIgR2VvbG9jYXRpb24gPSBuZXcgR2VvbG9jYXRpb25QbHVnaW5XZWIoKTtcbmV4cG9ydCB7IEdlb2xvY2F0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW9sb2NhdGlvbi5qcy5tYXAiLCJpbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgV2ViUGx1Z2luIH0gZnJvbSAnLi9pbmRleCc7XG5pbXBvcnQgeyB1dWlkNCB9IGZyb20gJy4uL3V0aWwnO1xudmFyIERldmljZVBsdWdpbldlYiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhEZXZpY2VQbHVnaW5XZWIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGV2aWNlUGx1Z2luV2ViKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgbmFtZTogJ0RldmljZScsXG4gICAgICAgICAgICBwbGF0Zm9ybXM6IFsnd2ViJ11cbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICB9XG4gICAgRGV2aWNlUGx1Z2luV2ViLnByb3RvdHlwZS5nZXRJbmZvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB1YSwgdWFGaWVsZHMsIGJhdHRlcnksIGVfMTtcbiAgICAgICAgICAgIHJldHVybiB0c2xpYl8xLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgdWFGaWVsZHMgPSB0aGlzLnBhcnNlVWEodWEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmF0dGVyeSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzEsIDMsICwgNF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgbmF2aWdhdG9yLmdldEJhdHRlcnkoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhdHRlcnkgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA0XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgZV8xID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWw6IHVhRmllbGRzLm1vZGVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXRmb3JtOiBcIndlYlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcFZlcnNpb246ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9zVmVyc2lvbjogdWFGaWVsZHMub3NWZXJzaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbnVmYWN0dXJlcjogbmF2aWdhdG9yLnZlbmRvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZpcnR1YWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhdHRlcnlMZXZlbDogYmF0dGVyeS5sZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NoYXJnaW5nOiBiYXR0ZXJ5LmNoYXJnaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IHRoaXMuZ2V0VWlkKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBEZXZpY2VQbHVnaW5XZWIucHJvdG90eXBlLnBhcnNlVWEgPSBmdW5jdGlvbiAoX3VhKSB7XG4gICAgICAgIHZhciB1YUZpZWxkcyA9IHt9O1xuICAgICAgICB2YXIgc3RhcnQgPSBfdWEuaW5kZXhPZignKCcpICsgMTtcbiAgICAgICAgdmFyIGVuZCA9IF91YS5pbmRleE9mKCcpIEFwcGxlV2ViS2l0Jyk7XG4gICAgICAgIGlmIChfdWEuaW5kZXhPZignKSBHZWNrbycpICE9PSAtMSkge1xuICAgICAgICAgICAgZW5kID0gX3VhLmluZGV4T2YoJykgR2Vja28nKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmllbGRzID0gX3VhLnN1YnN0cmluZyhzdGFydCwgZW5kKTtcbiAgICAgICAgaWYgKF91YS5pbmRleE9mKCdBbmRyb2lkJykgIT09IC0xKSB7XG4gICAgICAgICAgICB1YUZpZWxkcy5tb2RlbCA9IGZpZWxkcy5yZXBsYWNlKFwiOyB3dlwiLCBcIlwiKS5zcGxpdChcIjsgXCIpLnBvcCgpLnNwbGl0KCcgQnVpbGQnKVswXTtcbiAgICAgICAgICAgIHVhRmllbGRzLm9zVmVyc2lvbiA9IGZpZWxkcy5zcGxpdCgnOyAnKVsxXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHVhRmllbGRzLm1vZGVsID0gZmllbGRzLnNwbGl0KCc7ICcpWzBdO1xuICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5vc2NwdSkge1xuICAgICAgICAgICAgICAgIHVhRmllbGRzLm9zVmVyc2lvbiA9IG5hdmlnYXRvci5vc2NwdTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChfdWEuaW5kZXhPZignV2luZG93cycpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB1YUZpZWxkcy5vc1ZlcnNpb24gPSBmaWVsZHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdFBhcnRzID0gZmllbGRzLnNwbGl0KCc7ICcpLnBvcCgpLnJlcGxhY2UoXCIgbGlrZSBNYWMgT1MgWFwiLCBcIlwiKS5zcGxpdChcIiBcIik7XG4gICAgICAgICAgICAgICAgICAgIHVhRmllbGRzLm9zVmVyc2lvbiA9IGxhc3RQYXJ0c1tsYXN0UGFydHMubGVuZ3RoIC0gMV0ucmVwbGFjZSgvXy9nLCBcIi5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1YUZpZWxkcztcbiAgICB9O1xuICAgIERldmljZVBsdWdpbldlYi5wcm90b3R5cGUuZ2V0VWlkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdWlkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdfY2FwdWlkJyk7XG4gICAgICAgIGlmICh1aWQpIHtcbiAgICAgICAgICAgIHJldHVybiB1aWQ7XG4gICAgICAgIH1cbiAgICAgICAgdWlkID0gdXVpZDQoKTtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdfY2FwdWlkJywgdWlkKTtcbiAgICAgICAgcmV0dXJuIHVpZDtcbiAgICB9O1xuICAgIHJldHVybiBEZXZpY2VQbHVnaW5XZWI7XG59KFdlYlBsdWdpbikpO1xuZXhwb3J0IHsgRGV2aWNlUGx1Z2luV2ViIH07XG52YXIgRGV2aWNlID0gbmV3IERldmljZVBsdWdpbldlYigpO1xuZXhwb3J0IHsgRGV2aWNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZXZpY2UuanMubWFwIiwiaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFdlYlBsdWdpbiB9IGZyb20gJy4vaW5kZXgnO1xudmFyIFNoYXJlUGx1Z2luV2ViID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNoYXJlUGx1Z2luV2ViLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNoYXJlUGx1Z2luV2ViKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgbmFtZTogJ1NoYXJlJyxcbiAgICAgICAgICAgIHBsYXRmb3JtczogWyd3ZWInXVxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgIH1cbiAgICBTaGFyZVBsdWdpbldlYi5wcm90b3R5cGUuc2hhcmUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAoIW5hdmlnYXRvci5zaGFyZSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiV2ViIFNoYXJlIEFQSSBub3QgYXZhaWxhYmxlXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuYXZpZ2F0b3Iuc2hhcmUoe1xuICAgICAgICAgICAgdGl0bGU6IG9wdGlvbnMudGl0bGUsXG4gICAgICAgICAgICB0ZXh0OiBvcHRpb25zLnRleHQsXG4gICAgICAgICAgICB1cmw6IG9wdGlvbnMudXJsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFNoYXJlUGx1Z2luV2ViO1xufShXZWJQbHVnaW4pKTtcbmV4cG9ydCB7IFNoYXJlUGx1Z2luV2ViIH07XG52YXIgU2hhcmUgPSBuZXcgU2hhcmVQbHVnaW5XZWIoKTtcbmV4cG9ydCB7IFNoYXJlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaGFyZS5qcy5tYXAiLCJpbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgV2ViUGx1Z2luIH0gZnJvbSAnLi9pbmRleCc7XG52YXIgTW9kYWxzUGx1Z2luV2ViID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE1vZGFsc1BsdWdpbldlYiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNb2RhbHNQbHVnaW5XZWIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBuYW1lOiAnTW9kYWxzJyxcbiAgICAgICAgICAgIHBsYXRmb3JtczogWyd3ZWInXVxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgIH1cbiAgICBNb2RhbHNQbHVnaW5XZWIucHJvdG90eXBlLmFsZXJ0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRzbGliXzEuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWxlcnQob3B0aW9ucy5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZXNvbHZlKCldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTW9kYWxzUGx1Z2luV2ViLnByb3RvdHlwZS5wcm9tcHQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB2YWw7XG4gICAgICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICB2YWwgPSB3aW5kb3cucHJvbXB0KG9wdGlvbnMubWVzc2FnZSwgb3B0aW9ucy5pbnB1dFBsYWNlaG9sZGVyIHx8ICcnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxsZWQ6IHZhbCA9PT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICB9KV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNb2RhbHNQbHVnaW5XZWIucHJvdG90eXBlLmNvbmZpcm0gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB2YWw7XG4gICAgICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICB2YWwgPSB3aW5kb3cuY29uZmlybShvcHRpb25zLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbFxuICAgICAgICAgICAgICAgICAgICB9KV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNb2RhbHNQbHVnaW5XZWIucHJvdG90eXBlLnNob3dBY3Rpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRzbGliXzEuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIHRzbGliXzEuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCBfcmVqZWN0KSB7IHJldHVybiB0c2xpYl8xLl9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb250cm9sbGVyLCBpdGVtcywgYWN0aW9uU2hlZXRFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRzbGliXzEuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW9uLWFjdGlvbi1zaGVldC1jb250cm9sbGVyJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW9uLWFjdGlvbi1zaGVldC1jb250cm9sbGVyJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250cm9sbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGNvbnRyb2xsZXIuY29tcG9uZW50T25SZWFkeSgpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMgPSBvcHRpb25zLm9wdGlvbnMubWFwKGZ1bmN0aW9uIChvLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogby50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogby5zdHlsZSAmJiBvLnN0eWxlLnRvTG93ZXJDYXNlKCkgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IG8uaWNvbiB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgY29udHJvbGxlci5jcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogb3B0aW9ucy50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogaXRlbXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvblNoZWV0RWxlbWVudCA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGFjdGlvblNoZWV0RWxlbWVudC5wcmVzZW50KCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pOyB9KV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gTW9kYWxzUGx1Z2luV2ViO1xufShXZWJQbHVnaW4pKTtcbmV4cG9ydCB7IE1vZGFsc1BsdWdpbldlYiB9O1xudmFyIE1vZGFscyA9IG5ldyBNb2RhbHNQbHVnaW5XZWIoKTtcbmV4cG9ydCB7IE1vZGFscyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW9kYWxzLmpzLm1hcCIsImltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBXZWJQbHVnaW4gfSBmcm9tICcuL2luZGV4JztcbnZhciBTdG9yYWdlUGx1Z2luV2ViID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN0b3JhZ2VQbHVnaW5XZWIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3RvcmFnZVBsdWdpbldlYigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgbmFtZTogJ1N0b3JhZ2UnLFxuICAgICAgICAgICAgcGxhdGZvcm1zOiBbJ3dlYiddXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLktFWV9QUkVGSVggPSBcIl9jYXBfXCI7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3RvcmFnZVBsdWdpbldlYi5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCBfcmVqZWN0KSB7XG4gICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKF90aGlzLm1ha2VLZXkob3B0aW9ucy5rZXkpKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU3RvcmFnZVBsdWdpbldlYi5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCBfcmVqZWN0KSB7XG4gICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oX3RoaXMubWFrZUtleShvcHRpb25zLmtleSksIG9wdGlvbnMudmFsdWUpO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFN0b3JhZ2VQbHVnaW5XZWIucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgX3JlamVjdCkge1xuICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKF90aGlzLm1ha2VLZXkob3B0aW9ucy5rZXkpKTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTdG9yYWdlUGx1Z2luV2ViLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIF9yZWplY3QpIHtcbiAgICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgICAgIGtleXM6IE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSkuZmlsdGVyKGZ1bmN0aW9uIChrKSB7IHJldHVybiBfdGhpcy5pc0tleShrKTsgfSkubWFwKGZ1bmN0aW9uIChrKSB7IHJldHVybiBfdGhpcy5nZXRLZXkoayk7IH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTdG9yYWdlUGx1Z2luV2ViLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCBfcmVqZWN0KSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoaykgeyByZXR1cm4gX3RoaXMuaXNLZXkoayk7IH0pXG4gICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGspIHsgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrKTsgfSk7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU3RvcmFnZVBsdWdpbldlYi5wcm90b3R5cGUubWFrZUtleSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuS0VZX1BSRUZJWCArIGtleTtcbiAgICB9O1xuICAgIFN0b3JhZ2VQbHVnaW5XZWIucHJvdG90eXBlLmlzS2V5ID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4ga2V5LmluZGV4T2YodGhpcy5LRVlfUFJFRklYKSA9PT0gMDtcbiAgICB9O1xuICAgIFN0b3JhZ2VQbHVnaW5XZWIucHJvdG90eXBlLmdldEtleSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIGtleS5zdWJzdHIodGhpcy5LRVlfUFJFRklYLmxlbmd0aCk7XG4gICAgfTtcbiAgICByZXR1cm4gU3RvcmFnZVBsdWdpbldlYjtcbn0oV2ViUGx1Z2luKSk7XG5leHBvcnQgeyBTdG9yYWdlUGx1Z2luV2ViIH07XG52YXIgU3RvcmFnZSA9IG5ldyBTdG9yYWdlUGx1Z2luV2ViKCk7XG5leHBvcnQgeyBTdG9yYWdlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdG9yYWdlLmpzLm1hcCIsImltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBXZWJQbHVnaW4gfSBmcm9tICcuL2luZGV4JztcbnZhciBUb2FzdFBsdWdpbldlYiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhUb2FzdFBsdWdpbldlYiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBUb2FzdFBsdWdpbldlYigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgIG5hbWU6ICdUb2FzdCcsXG4gICAgICAgICAgICBwbGF0Zm9ybXM6IFsnd2ViJ11cbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICB9XG4gICAgVG9hc3RQbHVnaW5XZWIucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjb250cm9sbGVyLCBkdXJhdGlvbiwgdG9hc3Q7XG4gICAgICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpb24tdG9hc3QtY29udHJvbGxlcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lvbi10b2FzdC1jb250cm9sbGVyJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250cm9sbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGNvbnRyb2xsZXIuY29tcG9uZW50T25SZWFkeSgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gPSAzMDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IG9wdGlvbnMuZHVyYXRpb24gPT09ICdsb25nJyA/IDUwMDAgOiAzMDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgY29udHJvbGxlci5jcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG9wdGlvbnMudGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3QgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0b2FzdC5wcmVzZW50KCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBbMiAvKnJldHVybiovLCBfYS5zZW50KCldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBUb2FzdFBsdWdpbldlYjtcbn0oV2ViUGx1Z2luKSk7XG5leHBvcnQgeyBUb2FzdFBsdWdpbldlYiB9O1xudmFyIFRvYXN0ID0gbmV3IFRvYXN0UGx1Z2luV2ViKCk7XG5leHBvcnQgeyBUb2FzdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9hc3QuanMubWFwIiwiaW1wb3J0IHsgUGx1Z2lucyB9IGZyb20gJy4vZ2xvYmFsJztcbmltcG9ydCB7IG1lcmdlV2ViUGx1Z2lucywgbWVyZ2VXZWJQbHVnaW4gfSBmcm9tICcuL3dlYi9pbmRleCc7XG5leHBvcnQgKiBmcm9tICcuL3dlYi9icm93c2VyJztcbmV4cG9ydCAqIGZyb20gJy4vd2ViL2NhbWVyYSc7XG5leHBvcnQgKiBmcm9tICcuL3dlYi9jbGlwYm9hcmQnO1xuZXhwb3J0ICogZnJvbSAnLi93ZWIvZ2VvbG9jYXRpb24nO1xuZXhwb3J0ICogZnJvbSAnLi93ZWIvZGV2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vd2ViL3NoYXJlJztcbmV4cG9ydCAqIGZyb20gJy4vd2ViL21vZGFscyc7XG5leHBvcnQgKiBmcm9tICcuL3dlYi9zdG9yYWdlJztcbmV4cG9ydCAqIGZyb20gJy4vd2ViL3RvYXN0Jztcbm1lcmdlV2ViUGx1Z2lucyhQbHVnaW5zKTtcbmV4cG9ydCB2YXIgcmVnaXN0ZXJXZWJQbHVnaW4gPSBmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgbWVyZ2VXZWJQbHVnaW4oUGx1Z2lucywgcGx1Z2luKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD13ZWItcGx1Z2lucy5qcy5tYXAiLCJpbXBvcnQge0Jyb3dzZXJCcmlkZ2V9IGZyb20gXCIuL0Jyb3dzZXJCcmlkZ2VcIjtcclxuaW1wb3J0IHtUb2FzdEJyaWRnZX0gZnJvbSAnLi9Ub2FzdEJyaWRnZSc7XHJcbmltcG9ydCB7Q29uc29sZUJyaWRnZX0gZnJvbSBcIi4vQ29uc29sZUJyaWRnZVwiO1xyXG5pbXBvcnQge0NhbWVyYUJyaWRnZX0gZnJvbSBcIi4vQ2FtZXJhQnJpZGdlXCI7XHJcbmltcG9ydCB7RGV2aWNlQnJpZGdlfSBmcm9tIFwiLi9EZXZpY2VCcmlkZ2VcIjtcclxuaW1wb3J0IHtHZW9sb2NhdGlvbkJyaWRnZX0gZnJvbSBcIi4vR2VvbG9jYXRpb25CcmlkZ2VcIjtcclxuaW1wb3J0IHtLZXlib2FyZEJyaWRnZX0gZnJvbSBcIi4vS2V5Ym9hcmRCcmlkZ2VcIjtcclxuaW1wb3J0IHtNb2RhbHNCcmlkZ2V9IGZyb20gXCIuL01vZGFsc0JyaWRnZVwiO1xyXG5pbXBvcnQge1N0b3JhZ2VCcmlkZ2V9IGZyb20gXCIuL1N0b3JhZ2VCcmlkZ2VcIjtcclxuaW1wb3J0IHtTaGFyZUJyaWRnZX0gZnJvbSBcIi4vU2hhcmVCcmlkZ2VcIjtcclxuaW1wb3J0IHtTdGF0dXNCYXJCcmlkZ2V9IGZyb20gXCIuL1N0YXR1c0JhckJyaWRnZVwiO1xyXG5pbXBvcnQge1NwbGFzaFNjcmVlbkJyaWRnZX0gZnJvbSBcIi4vU3BsYXNoU2NyZWVuQnJpZGdlXCI7XHJcbmltcG9ydCB7TmV0d29ya0JyaWRnZX0gZnJvbSBcIi4vTmV0d29ya0JyaWRnZVwiO1xyXG5pbXBvcnQge01vdGlvbkJyaWRnZX0gZnJvbSBcIi4vTW90aW9uQnJpZGdlXCI7XHJcbmltcG9ydCB7SGFwdGljc0JyaWRnZX0gZnJvbSBcIi4vSGFwdGljc0JyaWRnZVwiO1xyXG5pbXBvcnQge0ZpbGVzeXN0ZW1CcmlkZ2V9IGZyb20gXCIuL0ZpbGVzeXN0ZW1CcmlkZ2VcIjtcclxuaW1wb3J0IHtDbGlwYm9hcmRCcmlkZ2V9IGZyb20gXCIuL0NsaXBib2FyZEJyaWRnZVwiO1xyXG5pbXBvcnQge0JhY2tncm91bmRUYXNrQnJpZGdlfSBmcm9tIFwiLi9CYWNrZ3JvdW5kVGFza0JyaWRnZVwiO1xyXG5pbXBvcnQge0FwcEJyaWRnZX0gZnJvbSBcIi4vQXBwQnJpZGdlXCI7XHJcbmltcG9ydCB7QWNjZXNzaWJpbGl0eUJyaWRnZX0gZnJvbSBcIi4vQWNjZXNzaWJpbGl0eUJyaWRnZVwiO1xyXG5cclxubmFtZXNwYWNlIEJpb25pY0NhcGFjaXRvckJyaWRnZSB7XHJcbiAgY29uc3QgYnJpZGdlOiBzdHJpbmcgPSAnQmlvbmljQnJpZGdlJztcclxuICAvLyBkZWZpbmUgd2hhdCB0aGlzIGV4dGVuc2lvbiBhZGRzIHRvIHRoZSB3aW5kb3cgb2JqZWN0IGluc2lkZSBCaW9uaWNCcmlkZ2VcclxuICBjb25zdCBleHRlbnNpb25PYmplY3QgPSB7XHJcbiAgICBDYXBhY2l0b3I6IHtcclxuICAgICAgQWNjZXNzaWJpbGl0eTogbmV3IEFjY2Vzc2liaWxpdHlCcmlkZ2UoKSxcclxuICAgICAgQXBwOiBuZXcgQXBwQnJpZGdlKCksXHJcbiAgICAgIEJhY2tncm91bmRUYXNrOiBuZXcgQmFja2dyb3VuZFRhc2tCcmlkZ2UoKSxcclxuICAgICAgQnJvd3NlcjogbmV3IEJyb3dzZXJCcmlkZ2UoKSxcclxuICAgICAgQ2FtZXJhOiBuZXcgQ2FtZXJhQnJpZGdlKCksXHJcbiAgICAgIENsaXBib2FyZDogbmV3IENsaXBib2FyZEJyaWRnZSgpLFxyXG4gICAgICBDb25zb2xlOiBuZXcgQ29uc29sZUJyaWRnZSgpLFxyXG4gICAgICBEZXZpY2U6IG5ldyBEZXZpY2VCcmlkZ2UoKSxcclxuICAgICAgRmlsZXN5c3RlbTogbmV3IEZpbGVzeXN0ZW1CcmlkZ2UoKSxcclxuICAgICAgR2VvbG9jYXRpb246IG5ldyBHZW9sb2NhdGlvbkJyaWRnZSgpLFxyXG4gICAgICBIYXB0aWNzOiBuZXcgSGFwdGljc0JyaWRnZSgpLFxyXG4gICAgICBLZXlib2FyZDogbmV3IEtleWJvYXJkQnJpZGdlKCksXHJcbiAgICAgIE1vZGFsczogbmV3IE1vZGFsc0JyaWRnZSgpLFxyXG4gICAgICBNb3Rpb246IG5ldyBNb3Rpb25CcmlkZ2UoKSxcclxuICAgICAgTmV0d29yazogbmV3IE5ldHdvcmtCcmlkZ2UoKSxcclxuICAgICAgU2hhcmU6IG5ldyBTaGFyZUJyaWRnZSgpLFxyXG4gICAgICBTcGxhc2hTY3JlZW46IG5ldyBTcGxhc2hTY3JlZW5CcmlkZ2UoKSxcclxuICAgICAgU3RhdHVzQmFyOiBuZXcgU3RhdHVzQmFyQnJpZGdlKCksXHJcbiAgICAgIFN0b3JhZ2U6IG5ldyBTdG9yYWdlQnJpZGdlKCksXHJcbiAgICAgIFRvYXN0OiBuZXcgVG9hc3RCcmlkZ2UoKVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplKCk6IHZvaWQge1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmICF3aW5kb3dbYnJpZGdlXSkge1xyXG4gICAgICAvLyB3aGVuIHRoZSBsaWJyYXJ5IGlzIGxvYWRlZCBpbiBhIGJyb3dzZXIgdmlhIGEgPHNjcmlwdD4gZWxlbWVudCwgbWFrZSB0aGVcclxuICAgICAgLy8gZm9sbG93aW5nIEFQSXMgYXZhaWxhYmxlIGluIGdsb2JhbCBzY29wZSBmb3IgaW52b2NhdGlvbiBmcm9tIEpTXHJcbiAgICAgIHdpbmRvd1ticmlkZ2VdID0ge1xyXG4gICAgICAgIC4uLmV4dGVuc2lvbk9iamVjdFxyXG4gICAgICB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgd2luZG93W2JyaWRnZV0gPSB7XHJcbiAgICAgICAgLi4ud2luZG93W2JyaWRnZV0sXHJcbiAgICAgICAgLi4uZXh0ZW5zaW9uT2JqZWN0XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5CaW9uaWNDYXBhY2l0b3JCcmlkZ2UuaW5pdGlhbGl6ZSgpO1xyXG4iLCJpbXBvcnQge0Jyb3dzZXJPcGVuT3B0aW9ucywgQnJvd3NlclByZWZldGNoT3B0aW9ucywgUGx1Z2luTGlzdGVuZXJIYW5kbGUsIFBsdWdpbnN9IGZyb20gXCJAY2FwYWNpdG9yL2NvcmVcIjtcclxuXHJcbmNvbnN0IHtCcm93c2VyfSA9IFBsdWdpbnM7XHJcblxyXG5jbGFzcyBXYXRjaGVyIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgaWQ6IHN0cmluZyB8IG51bGwgPSBudWxsLFxyXG4gICAgcHVibGljIGhhbmRsZTogUGx1Z2luTGlzdGVuZXJIYW5kbGUgfCBudWxsID0gbnVsbFxyXG4gICkge1xyXG4gIH07XHJcblxyXG4gIHB1YmxpYyByZXBvcnRGcm9tQnJvd3Nlckxpc3RlbmVyKGluZm86IGFueSk6IHZvaWQge1xyXG4gICAgY29uc29sZS5sb2coYPCflKUgLSAke0pTT04uc3RyaW5naWZ5KGluZm8pfWApO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgRG90TmV0Lmludm9rZU1ldGhvZEFzeW5jKCdCaW9uaWMuQnJpZGdlLkNhcGFjaXRvcicsICdSZXBvcnRGcm9tQnJvd3Nlckxpc3RlbmVyJywgdGhpcy5pZCwgSlNPTi5zdHJpbmdpZnkoaW5mbykpO1xyXG4gIH1cclxufVxyXG5cclxuaW50ZXJmYWNlIElCcm93c2VyIHtcclxuICBjbG9zZSgpOiBQcm9taXNlPHZvaWQ+O1xyXG5cclxuICBvcGVuKG9wdGlvbnM6IEJyb3dzZXJPcGVuT3B0aW9ucyk6IFByb21pc2U8dm9pZD47XHJcblxyXG4gIHByZWZldGNoKG9wdGlvbnM6IEJyb3dzZXJQcmVmZXRjaE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+O1xyXG5cclxuICBsaXN0ZW5Ub0Jyb3dzZXJGaW5pc2hlZChpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPlxyXG5cclxuICBsaXN0ZW5Ub0Jyb3dzZXJQYWdlTG9hZGVkKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBCcm93c2VyQnJpZGdlIGltcGxlbWVudHMgSUJyb3dzZXIge1xyXG4gIHByaXZhdGUgc3RhdGljIHdhdGNoZXJzID0gbmV3IE1hcDxzdHJpbmcsIFdhdGNoZXI+KCk7XHJcblxyXG4gIGFzeW5jIGNsb3NlKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgaWYgKCFCcm93c2VyKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJCcm93c2VyIG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgcmV0dXJuIGF3YWl0IEJyb3dzZXIuY2xvc2UoKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIG9wZW4ob3B0aW9uczogQnJvd3Nlck9wZW5PcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBpZiAoIUJyb3dzZXIpIHJldHVybiBQcm9taXNlLnJlamVjdChcIkJyb3dzZXIgbm90IGF2YWlsYWJsZS5cIik7XHJcbiAgICByZXR1cm4gYXdhaXQgQnJvd3Nlci5vcGVuKG9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgcHJlZmV0Y2gob3B0aW9uczogQnJvd3NlclByZWZldGNoT3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgaWYgKCFCcm93c2VyKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJCcm93c2VyIG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgcmV0dXJuIGF3YWl0IEJyb3dzZXIucHJlZmV0Y2gob3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBsaXN0ZW5Ub0Jyb3dzZXJGaW5pc2hlZChpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBpZiAoIUJyb3dzZXIpIHJldHVybiBQcm9taXNlLnJlamVjdChcIkJyb3dzZXIgbm90IGF2YWlsYWJsZS5cIik7XHJcbiAgICBpZiAoQnJvd3NlckJyaWRnZS53YXRjaGVycy5oYXMoaWQpKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJJRCBhbHJlYWR5IGluIHVzZS5cIik7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB3YXRjaGVyID0gbmV3IFdhdGNoZXIoaWQpO1xyXG4gICAgICB3YXRjaGVyLmhhbmRsZSA9IEJyb3dzZXIuYWRkTGlzdGVuZXIoJ2Jyb3dzZXJGaW5pc2hlZCcsIHdhdGNoZXIucmVwb3J0RnJvbUJyb3dzZXJMaXN0ZW5lcik7XHJcbiAgICAgIEJyb3dzZXJCcmlkZ2Uud2F0Y2hlcnMuc2V0KGlkLCB3YXRjaGVyKTtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KHJlc29sdmUgPT4gcmVzb2x2ZSgpKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyLCByZWplY3QpID0+IHJlamVjdChlLm1lc3NhZ2UpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGxpc3RlblRvQnJvd3NlclBhZ2VMb2FkZWQoaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgaWYgKCFCcm93c2VyKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJCcm93c2VyIG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgaWYgKEJyb3dzZXJCcmlkZ2Uud2F0Y2hlcnMuaGFzKGlkKSkgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiSUQgYWxyZWFkeSBpbiB1c2UuXCIpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgd2F0Y2hlciA9IG5ldyBXYXRjaGVyKGlkKTtcclxuICAgICAgd2F0Y2hlci5oYW5kbGUgPSBCcm93c2VyLmFkZExpc3RlbmVyKCdicm93c2VyUGFnZUxvYWRlZCcsIHdhdGNoZXIucmVwb3J0RnJvbUJyb3dzZXJMaXN0ZW5lcik7XHJcbiAgICAgIEJyb3dzZXJCcmlkZ2Uud2F0Y2hlcnMuc2V0KGlkLCB3YXRjaGVyKTtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KHJlc29sdmUgPT4gcmVzb2x2ZSgpKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyLCByZWplY3QpID0+IHJlamVjdChlLm1lc3NhZ2UpKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHtQbHVnaW5zLCBUb2FzdFNob3dPcHRpb25zfSBmcm9tIFwiQGNhcGFjaXRvci9jb3JlXCI7XHJcblxyXG5jb25zdCB7VG9hc3R9ID0gUGx1Z2lucztcclxuXHJcbmludGVyZmFjZSBJVG9hc3Qge1xyXG4gIHNob3cob3B0aW9uczogVG9hc3RTaG93T3B0aW9ucyk6IFByb21pc2U8dm9pZD47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBUb2FzdEJyaWRnZSBpbXBsZW1lbnRzIElUb2FzdCB7XHJcbiAgYXN5bmMgc2hvdyhvcHRpb25zOiBUb2FzdFNob3dPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBpZiAoIVRvYXN0KSByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJUb2FzdCBub3QgYXZhaWxhYmxlLlwiKTtcclxuICAgIGF3YWl0IFRvYXN0LnNob3cob3B0aW9ucyk7XHJcbiAgfVxyXG59XHJcbiIsImludGVyZmFjZSBJQ29uc29sZSB7XHJcbiAgbG9nKG1lc3NhZ2U6IHN0cmluZyk6IFByb21pc2U8dm9pZD47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDb25zb2xlQnJpZGdlIGltcGxlbWVudHMgSUNvbnNvbGUge1xyXG4gIGFzeW5jIGxvZyhtZXNzYWdlOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGF3YWl0IGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQge0NhbWVyYU9wdGlvbnMsIENhbWVyYVBob3RvLCBQbHVnaW5zfSBmcm9tICdAY2FwYWNpdG9yL2NvcmUnO1xyXG5cclxuY29uc3Qge0NhbWVyYX0gPSBQbHVnaW5zO1xyXG5cclxuaW50ZXJmYWNlIElDYW1lcmEge1xyXG4gIGdldFBob3RvKG9wdGlvbnM6IENhbWVyYU9wdGlvbnMpOiBQcm9taXNlPENhbWVyYVBob3RvPjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENhbWVyYUJyaWRnZSBpbXBsZW1lbnRzIElDYW1lcmEge1xyXG4gIHB1YmxpYyBhc3luYyBnZXRQaG90byhvcHRpb25zOiBDYW1lcmFPcHRpb25zKTogUHJvbWlzZTxDYW1lcmFQaG90bz4ge1xyXG4gICAgaWYgKCFDYW1lcmEpIHJldHVybiBQcm9taXNlLnJlamVjdChcIkNhbWVyYSBub3QgYXZhaWxhYmxlLlwiKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGltYWdlID0gYXdhaXQgQ2FtZXJhLmdldFBob3RvKG9wdGlvbnMpO1xyXG4gICAgICBjb25zb2xlLmxvZyhpbWFnZSk7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxDYW1lcmFQaG90bz4ocmVzb2x2ZSA9PiByZXNvbHZlKGltYWdlKSk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxDYW1lcmFQaG90bz4oKHIsIHJlamVjdCkgPT4gcmVqZWN0KGUubWVzc2FnZSkpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQge0RldmljZUluZm8sIFBsdWdpbnN9IGZyb20gJ0BjYXBhY2l0b3IvY29yZSc7XHJcblxyXG5jb25zdCB7RGV2aWNlfSA9IFBsdWdpbnM7XHJcblxyXG5pbnRlcmZhY2UgSURldmljZSB7XHJcbiAgZ2V0SW5mbygpOiBQcm9taXNlPERldmljZUluZm8+O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRGV2aWNlQnJpZGdlIGltcGxlbWVudHMgSURldmljZSB7XHJcbiAgcHVibGljIGFzeW5jIGdldEluZm8oKTogUHJvbWlzZTxEZXZpY2VJbmZvPiB7XHJcbiAgICBpZiAoIURldmljZSkgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiRGV2aWNlIG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgaW5mbyA9IGF3YWl0IERldmljZS5nZXRJbmZvKCk7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxEZXZpY2VJbmZvPihyZXNvbHZlID0+IHJlc29sdmUoaW5mbykpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2U8RGV2aWNlSW5mbz4oKHIsIHJlamVjdCkgPT4gcmVqZWN0KGUubWVzc2FnZSkpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQge0NhbGxiYWNrSUQsIEdlb2xvY2F0aW9uT3B0aW9ucywgR2VvbG9jYXRpb25Qb3NpdGlvbiwgUGx1Z2luc30gZnJvbSAnQGNhcGFjaXRvci9jb3JlJztcclxuXHJcbmNvbnN0IHtHZW9sb2NhdGlvbn0gPSBQbHVnaW5zO1xyXG5cclxuY2xhc3MgV2F0Y2hlciB7XHJcbiAgaWQ6IENhbGxiYWNrSUQgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgcHVibGljIGdlb2xvY2F0aW9uQ2FsbGJhY2socG9zaXRpb246IEdlb2xvY2F0aW9uUG9zaXRpb24sIGVycj86IGFueSk6IHZvaWQge1xyXG4gICAgaWYgKGVycikge1xyXG4gICAgICBjb25zb2xlLmxvZyhgR290IHBvc2l0aW9uIGVycm9yOiAke2Vycn1gKTtcclxuICAgIH1cclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIERvdE5ldC5pbnZva2VNZXRob2RBc3luYygnQmlvbmljLkJyaWRnZS5DYXBhY2l0b3InLCAnUmVwb3J0TmV3UG9zaXRpb24nLCB0aGlzLmlkLCBwb3NpdGlvbik7XHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgSUQge1xyXG4gIGlkOiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBJR2VvbG9jYXRpb24ge1xyXG4gIGNsZWFyV2F0Y2goaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD47XHJcbiAgZ2V0Q3VycmVudFBvc2l0aW9uKG9wdGlvbnM/OiBHZW9sb2NhdGlvbk9wdGlvbnMpOiBQcm9taXNlPEdlb2xvY2F0aW9uUG9zaXRpb24+O1xyXG4gIHdhdGNoUG9zaXRpb24ob3B0aW9uczogR2VvbG9jYXRpb25PcHRpb25zKTogUHJvbWlzZTxDYWxsYmFja0lEPjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEdlb2xvY2F0aW9uQnJpZGdlIGltcGxlbWVudHMgSUdlb2xvY2F0aW9uIHtcclxuICBwcml2YXRlIHN0YXRpYyB3YXRjaGVycyA9IG5ldyBNYXA8Q2FsbGJhY2tJRCwgV2F0Y2hlcj4oKTtcclxuXHJcbiAgcHVibGljIGFzeW5jIGNsZWFyV2F0Y2goaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgaWYgKCFHZW9sb2NhdGlvbikgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiR2VvbG9jYXRpb24gbm90IGF2YWlsYWJsZS5cIik7XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBHZW9sb2NhdGlvbi5jbGVhcldhdGNoKHsgaWQgfSk7XHJcbiAgICAgIEdlb2xvY2F0aW9uQnJpZGdlLndhdGNoZXJzLmRlbGV0ZShpZCk7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPihyZXNvbHZlID0+IHJlc29sdmUoKSk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigociwgcmVqZWN0KSA9PiByZWplY3QoZS5tZXNzYWdlKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgZ2V0Q3VycmVudFBvc2l0aW9uKG9wdGlvbnM/OiBHZW9sb2NhdGlvbk9wdGlvbnMpOiBQcm9taXNlPEdlb2xvY2F0aW9uUG9zaXRpb24+IHtcclxuICAgIGlmICghR2VvbG9jYXRpb24pIHJldHVybiBQcm9taXNlLnJlamVjdChcIkdlb2xvY2F0aW9uIG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcG9zaXRpb24gPSBhd2FpdCBHZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24ob3B0aW9ucyk7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxHZW9sb2NhdGlvblBvc2l0aW9uPihyZXNvbHZlID0+IHJlc29sdmUocG9zaXRpb24pKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPEdlb2xvY2F0aW9uUG9zaXRpb24+KChyLCByZWplY3QpID0+IHJlamVjdChlLm1lc3NhZ2UpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyB3YXRjaFBvc2l0aW9uKG9wdGlvbnM6IEdlb2xvY2F0aW9uT3B0aW9ucyk6IFByb21pc2U8Q2FsbGJhY2tJRD4ge1xyXG4gICAgaWYgKCFHZW9sb2NhdGlvbikgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiR2VvbG9jYXRpb24gbm90IGF2YWlsYWJsZS5cIik7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB3YXRjaGVyID0gbmV3IFdhdGNoZXIoKTtcclxuICAgICAgY29uc3QgaWQgPSBhd2FpdCBHZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKG9wdGlvbnMsIHdhdGNoZXIuZ2VvbG9jYXRpb25DYWxsYmFjay5iaW5kKHdhdGNoZXIpKTtcclxuICAgICAgd2F0Y2hlci5pZCA9IGlkO1xyXG4gICAgICBHZW9sb2NhdGlvbkJyaWRnZS53YXRjaGVycy5zZXQoaWQsIHdhdGNoZXIpO1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2U8Q2FsbGJhY2tJRD4ocmVzb2x2ZSA9PiByZXNvbHZlKGlkKSk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxDYWxsYmFja0lEPigociwgcmVqZWN0KSA9PiByZWplY3QoZS5tZXNzYWdlKSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7UGx1Z2luc30gZnJvbSAnQGNhcGFjaXRvci9jb3JlJztcclxuXHJcbmNvbnN0IHtLZXlib2FyZH0gPSBQbHVnaW5zO1xyXG5cclxuaW50ZXJmYWNlIElLZXlib2FyZCB7XHJcbiAgc2hvdygpOiBQcm9taXNlPHZvaWQ+O1xyXG5cclxuICBoaWRlKCk6IFByb21pc2U8dm9pZD47XHJcblxyXG4gIHNldEFjY2Vzc29yeUJhclZpc2libGUoaXNWaXNpYmxlOiBib29sZWFuKTogUHJvbWlzZTx2b2lkPjtcclxuXHJcbiAgcmVnaXN0ZXJFdmVudExpc3RlbmVycygpOiBQcm9taXNlPHZvaWQ+O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgS2V5Ym9hcmRCcmlkZ2UgaW1wbGVtZW50cyBJS2V5Ym9hcmQge1xyXG4gIHB1YmxpYyBhc3luYyBzaG93KCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgaWYgKCFLZXlib2FyZCkgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiS2V5Ym9hcmQgbm90IGF2YWlsYWJsZS5cIik7XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBLZXlib2FyZC5zaG93KCk7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPihyZXNvbHZlID0+IHJlc29sdmUoKSk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigociwgcmVqZWN0KSA9PiByZWplY3QoZS5tZXNzYWdlKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgaGlkZSgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGlmICghS2V5Ym9hcmQpIHJldHVybiBQcm9taXNlLnJlamVjdChcIktleWJvYXJkIG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgS2V5Ym9hcmQuaGlkZSgpO1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4ocmVzb2x2ZSA9PiByZXNvbHZlKCkpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHIsIHJlamVjdCkgPT4gcmVqZWN0KGUubWVzc2FnZSkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIHNldEFjY2Vzc29yeUJhclZpc2libGUoaXNWaXNpYmxlOiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBpZiAoIUtleWJvYXJkKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJLZXlib2FyZCBub3QgYXZhaWxhYmxlLlwiKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IEtleWJvYXJkLnNldEFjY2Vzc29yeUJhclZpc2libGUoe2lzVmlzaWJsZX0pO1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4ocmVzb2x2ZSA9PiByZXNvbHZlKCkpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHIsIHJlamVjdCkgPT4gcmVqZWN0KGUubWVzc2FnZSkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIHJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBpZiAoIUtleWJvYXJkIHx8ICF3aW5kb3cpIHJldHVybiBQcm9taXNlLnJlamVjdChcIktleWJvYXJkIG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWJvYXJkV2lsbFNob3cnLCAoZSkgPT4ge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBEb3ROZXQuaW52b2tlTWV0aG9kQXN5bmMoJ0Jpb25pYy5CcmlkZ2UuQ2FwYWNpdG9yJywgJ0tleWJvYXJkV2lsbFNob3cnLCBKU09OLnN0cmluZ2lmeShlKSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWJvYXJkRGlkU2hvdycsIChlKSA9PiB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIERvdE5ldC5pbnZva2VNZXRob2RBc3luYygnQmlvbmljLkJyaWRnZS5DYXBhY2l0b3InLCAnS2V5Ym9hcmREaWRTaG93JywgSlNPTi5zdHJpbmdpZnkoZSkpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlib2FyZFdpbGxIaWRlJywgKCkgPT4ge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBEb3ROZXQuaW52b2tlTWV0aG9kQXN5bmMoJ0Jpb25pYy5CcmlkZ2UuQ2FwYWNpdG9yJywgJ0tleWJvYXJkV2lsbEhpZGUnKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5Ym9hcmREaWRIaWRlJywgKCkgPT4ge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBEb3ROZXQuaW52b2tlTWV0aG9kQXN5bmMoJ0Jpb25pYy5CcmlkZ2UuQ2FwYWNpdG9yJywgJ0tleWJvYXJkRGlkSGlkZScpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPihyZXNvbHZlID0+IHJlc29sdmUoKSk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigociwgcmVqZWN0KSA9PiByZWplY3QoZS5tZXNzYWdlKSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7XHJcbiAgQWN0aW9uU2hlZXRPcHRpb25zLFxyXG4gIEFjdGlvblNoZWV0UmVzdWx0LFxyXG4gIEFsZXJ0T3B0aW9ucyxcclxuICBDb25maXJtT3B0aW9ucyxcclxuICBDb25maXJtUmVzdWx0LFxyXG4gIFBsdWdpbnMsXHJcbiAgUHJvbXB0T3B0aW9ucyxcclxuICBQcm9tcHRSZXN1bHRcclxufSBmcm9tICdAY2FwYWNpdG9yL2NvcmUnO1xyXG5cclxuY29uc3Qge01vZGFsc30gPSBQbHVnaW5zO1xyXG5cclxuaW50ZXJmYWNlIElNb2RhbHMge1xyXG4gIGFsZXJ0KG9wdGlvbnM6IEFsZXJ0T3B0aW9ucyk6IFByb21pc2U8dm9pZD47XHJcblxyXG4gIGNvbmZpcm0ob3B0aW9uczogQ29uZmlybU9wdGlvbnMpOiBQcm9taXNlPENvbmZpcm1SZXN1bHQ+O1xyXG5cclxuICBwcm9tcHQob3B0aW9uczogUHJvbXB0T3B0aW9ucyk6IFByb21pc2U8UHJvbXB0UmVzdWx0PjtcclxuXHJcbiAgc2hvd0FjdGlvbnMob3B0aW9uczogQWN0aW9uU2hlZXRPcHRpb25zKTogUHJvbWlzZTxBY3Rpb25TaGVldFJlc3VsdD47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBNb2RhbHNCcmlkZ2UgaW1wbGVtZW50cyBJTW9kYWxzIHtcclxuXHJcbiAgcHVibGljIGFzeW5jIGFsZXJ0KG9wdGlvbnM6IEFsZXJ0T3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgaWYgKCFNb2RhbHMpIHJldHVybiBQcm9taXNlLnJlamVjdChcIk1vZGFscyBub3QgYXZhaWxhYmxlLlwiKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIHJldHVybiBhd2FpdCBNb2RhbHMuYWxlcnQob3B0aW9ucyk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigociwgcmVqZWN0KSA9PiByZWplY3QoZS5tZXNzYWdlKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgY29uZmlybShvcHRpb25zOiBDb25maXJtT3B0aW9ucyk6IFByb21pc2U8Q29uZmlybVJlc3VsdD4ge1xyXG4gICAgaWYgKCFNb2RhbHMpIHJldHVybiBQcm9taXNlLnJlamVjdChcIk1vZGFscyBub3QgYXZhaWxhYmxlLlwiKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIHJldHVybiBhd2FpdCBNb2RhbHMuY29uZmlybShvcHRpb25zKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPENvbmZpcm1SZXN1bHQ+KChyLCByZWplY3QpID0+IHJlamVjdChlLm1lc3NhZ2UpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBwcm9tcHQob3B0aW9uczogUHJvbXB0T3B0aW9ucyk6IFByb21pc2U8UHJvbXB0UmVzdWx0PiB7XHJcbiAgICBpZiAoIU1vZGFscykgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiTW9kYWxzIG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgcmV0dXJuIGF3YWl0IE1vZGFscy5wcm9tcHQob3B0aW9ucyk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxQcm9tcHRSZXN1bHQ+KChyLCByZWplY3QpID0+IHJlamVjdChlLm1lc3NhZ2UpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBzaG93QWN0aW9ucyhvcHRpb25zOiBBY3Rpb25TaGVldE9wdGlvbnMpOiBQcm9taXNlPEFjdGlvblNoZWV0UmVzdWx0PiB7XHJcbiAgICBpZiAoIU1vZGFscykgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiTW9kYWxzIG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgcmV0dXJuIGF3YWl0IE1vZGFscy5zaG93QWN0aW9ucyhvcHRpb25zKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPEFjdGlvblNoZWV0UmVzdWx0PigociwgcmVqZWN0KSA9PiByZWplY3QoZS5tZXNzYWdlKSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7UGx1Z2luc30gZnJvbSAnQGNhcGFjaXRvci9jb3JlJztcclxuXHJcbmNvbnN0IHtTdG9yYWdlfSA9IFBsdWdpbnM7XHJcblxyXG5pbnRlcmZhY2UgSVN0b3JhZ2Uge1xyXG4gIGNsZWFyKCk6IFByb21pc2U8dm9pZD47XHJcblxyXG4gIGdldChrZXk6IHN0cmluZyk6IFByb21pc2U8YW55IHwgbnVsbD47XHJcblxyXG4gIHNldChrZXk6IHN0cmluZywgdmFsdWU6IGFueSk6IFByb21pc2U8dm9pZD47XHJcblxyXG4gIGtleXMoKTogUHJvbWlzZTxzdHJpbmdbXT47XHJcblxyXG4gIHJlbW92ZShrZXk6IHN0cmluZyk6IFByb21pc2U8dm9pZD47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTdG9yYWdlQnJpZGdlIGltcGxlbWVudHMgSVN0b3JhZ2Uge1xyXG5cclxuICBwdWJsaWMgYXN5bmMgY2xlYXIoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBpZiAoIVN0b3JhZ2UpIHJldHVybiBQcm9taXNlLnJlamVjdChcIlN0b3JhZ2Ugbm90IGF2YWlsYWJsZS5cIik7XHJcbiAgICB0cnkge1xyXG4gICAgICByZXR1cm4gYXdhaXQgU3RvcmFnZS5jbGVhcigpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHIsIHJlamVjdCkgPT4gcmVqZWN0KGUubWVzc2FnZSkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIGdldChrZXk6IHN0cmluZyk6IFByb21pc2U8YW55IHwgbnVsbD4ge1xyXG4gICAgaWYgKCFTdG9yYWdlKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJTdG9yYWdlIG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgU3RvcmFnZS5nZXQoe2tleX0pO1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2U8YW55IHwgbnVsbD4ocmVzb2x2ZSA9PiByZXNvbHZlKHJlc3VsdCA/IEpTT04ucGFyc2UocmVzdWx0LnZhbHVlKSA6IG51bGwpKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPGFueSB8IG51bGw+KChyLCByZWplY3QpID0+IHJlamVjdChlLm1lc3NhZ2UpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBzZXQoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGlmICghU3RvcmFnZSkgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiU3RvcmFnZSBub3QgYXZhaWxhYmxlLlwiKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIHJldHVybiBhd2FpdCBTdG9yYWdlLnNldCh7a2V5LCB2YWx1ZTogSlNPTi5zdHJpbmdpZnkodmFsdWUpfSk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigociwgcmVqZWN0KSA9PiByZWplY3QoZS5tZXNzYWdlKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMga2V5cygpOiBQcm9taXNlPHN0cmluZ1tdPiB7XHJcbiAgICBpZiAoIVN0b3JhZ2UpIHJldHVybiBQcm9taXNlLnJlamVjdChcIlN0b3JhZ2Ugbm90IGF2YWlsYWJsZS5cIik7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBTdG9yYWdlLmtleXMoKTtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHN0cmluZ1tdPihyZXNvbHZlID0+IHJlc29sdmUocmVzdWx0ICYmICEhcmVzdWx0LmtleXMgPyByZXN1bHQua2V5cyA6IFtdKSk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmdbXT4oKHIsIHJlamVjdCkgPT4gcmVqZWN0KGUubWVzc2FnZSkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIHJlbW92ZShrZXk6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgaWYgKCFTdG9yYWdlKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJTdG9yYWdlIG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgcmV0dXJuIGF3YWl0IFN0b3JhZ2UucmVtb3ZlKHtrZXl9KTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyLCByZWplY3QpID0+IHJlamVjdChlLm1lc3NhZ2UpKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHtQbHVnaW5zLCBTaGFyZU9wdGlvbnN9IGZyb20gXCJAY2FwYWNpdG9yL2NvcmVcIjtcclxuXHJcbmNvbnN0IHtTaGFyZX0gPSBQbHVnaW5zO1xyXG5cclxuaW50ZXJmYWNlIElTaGFyZSB7XHJcbiAgc2hhcmUob3B0aW9uczogU2hhcmVPcHRpb25zKTogUHJvbWlzZTxhbnk+O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU2hhcmVCcmlkZ2UgaW1wbGVtZW50cyBJU2hhcmUge1xyXG4gIGFzeW5jIHNoYXJlKG9wdGlvbnM6IFNoYXJlT3B0aW9ucyk6IFByb21pc2U8YW55PiB7XHJcbiAgICBpZiAoIVNoYXJlKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJTaGFyZSBub3QgYXZhaWxhYmxlLlwiKTtcclxuICAgIGF3YWl0IFNoYXJlLnNoYXJlKG9wdGlvbnMpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQge1BsdWdpbnMsIFN0YXR1c0JhclN0eWxlfSBmcm9tIFwiQGNhcGFjaXRvci9jb3JlXCI7XHJcblxyXG5jb25zdCB7U3RhdHVzQmFyfSA9IFBsdWdpbnM7XHJcblxyXG5pbnRlcmZhY2UgSVN0YXR1c0JhciB7XHJcbiAgc2hvdygpOiBQcm9taXNlPHZvaWQ+O1xyXG4gIGhpZGUoKTogUHJvbWlzZTx2b2lkPjtcclxuICBzZXRCYWNrZ3JvdW5kQ29sb3IoY29sb3I6IHN0cmluZyk6IFByb21pc2U8dm9pZD47XHJcbiAgc2V0U3R5bGUoc3R5bGU6IG51bWJlcik6IFByb21pc2U8dm9pZD5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXR1c0JhckJyaWRnZSBpbXBsZW1lbnRzIElTdGF0dXNCYXIge1xyXG4gIGFzeW5jIHNob3coKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBpZiAoIVN0YXR1c0JhcikgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiU3RhdHVzQmFyIG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgcmV0dXJuIGF3YWl0IFN0YXR1c0Jhci5zaG93KCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBoaWRlKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgaWYgKCFTdGF0dXNCYXIpIHJldHVybiBQcm9taXNlLnJlamVjdChcIlN0YXR1c0JhciBub3QgYXZhaWxhYmxlLlwiKTtcclxuICAgIHJldHVybiBhd2FpdCBTdGF0dXNCYXIuaGlkZSgpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgc2V0QmFja2dyb3VuZENvbG9yKGNvbG9yOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGlmICghU3RhdHVzQmFyKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJTdGF0dXNCYXIgbm90IGF2YWlsYWJsZS5cIik7XHJcbiAgICByZXR1cm4gYXdhaXQgU3RhdHVzQmFyLnNldEJhY2tncm91bmRDb2xvcih7Y29sb3J9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHNldFN0eWxlKHN0eWxlOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGlmICghU3RhdHVzQmFyKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJTdGF0dXNCYXIgbm90IGF2YWlsYWJsZS5cIik7XHJcbiAgICByZXR1cm4gYXdhaXQgU3RhdHVzQmFyLnNldFN0eWxlKHtzdHlsZTogc3R5bGUgPT09IDAgPyBTdGF0dXNCYXJTdHlsZS5EYXJrIDogU3RhdHVzQmFyU3R5bGUuTGlnaHR9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHtQbHVnaW5zLCBTcGxhc2hTY3JlZW5IaWRlT3B0aW9ucywgU3BsYXNoU2NyZWVuU2hvd09wdGlvbnMsIFN0YXR1c0JhclN0eWxlfSBmcm9tIFwiQGNhcGFjaXRvci9jb3JlXCI7XHJcblxyXG5jb25zdCB7U3BsYXNoU2NyZWVufSA9IFBsdWdpbnM7XHJcblxyXG5pbnRlcmZhY2UgSVNwbGFzaFNjcmVlbiB7XHJcbiAgc2hvdyhvcHRpb25zOiBTcGxhc2hTY3JlZW5TaG93T3B0aW9ucyk6IFByb21pc2U8dm9pZD47XHJcbiAgaGlkZShvcHRpb25zOiBTcGxhc2hTY3JlZW5IaWRlT3B0aW9ucyk6IFByb21pc2U8dm9pZD47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTcGxhc2hTY3JlZW5CcmlkZ2UgaW1wbGVtZW50cyBJU3BsYXNoU2NyZWVuIHtcclxuICBhc3luYyBzaG93KG9wdGlvbnM6IFNwbGFzaFNjcmVlblNob3dPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBpZiAoIVNwbGFzaFNjcmVlbikgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiU3BsYXNoU2NyZWVuIG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgcmV0dXJuIGF3YWl0IFNwbGFzaFNjcmVlbi5zaG93KG9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgaGlkZShvcHRpb25zOiBTcGxhc2hTY3JlZW5IaWRlT3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgaWYgKCFTcGxhc2hTY3JlZW4pIHJldHVybiBQcm9taXNlLnJlamVjdChcIlNwbGFzaFNjcmVlbiBub3QgYXZhaWxhYmxlLlwiKTtcclxuICAgIHJldHVybiBhd2FpdCBTcGxhc2hTY3JlZW4uaGlkZShvcHRpb25zKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHtOZXR3b3JrU3RhdHVzLCBQbHVnaW5MaXN0ZW5lckhhbmRsZSwgUGx1Z2luc30gZnJvbSBcIkBjYXBhY2l0b3IvY29yZVwiO1xyXG5cclxuY29uc3Qge05ldHdvcmt9ID0gUGx1Z2lucztcclxuXHJcbmNsYXNzIFdhdGNoZXIge1xyXG4gIGlkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcclxuICBoYW5kbGVyOiBQbHVnaW5MaXN0ZW5lckhhbmRsZSB8IG51bGwgPSBudWxsO1xyXG5cclxuICBwdWJsaWMgcmVtb3ZlKCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuaGFuZGxlcikge1xyXG4gICAgICB0aGlzLmhhbmRsZXIucmVtb3ZlKCk7XHJcbiAgICAgIHRoaXMuaGFuZGxlciA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgbmV0d29ya0xpc3RlbmVyKHN0YXR1czogTmV0d29ya1N0YXR1cyk6IHZvaWQge1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgRG90TmV0Lmludm9rZU1ldGhvZEFzeW5jKCdCaW9uaWMuQnJpZGdlLkNhcGFjaXRvcicsICdSZXBvcnROZXR3b3JrU3RhdHVzJywgdGhpcy5pZCwgc3RhdHVzKTtcclxuICB9XHJcbn1cclxuXHJcbmludGVyZmFjZSBJTmV0d29yayB7XHJcbiAgZ2V0U3RhdHVzKCk6IFByb21pc2U8TmV0d29ya1N0YXR1cz47XHJcblxyXG4gIGFkZExpc3RlbmVyKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+O1xyXG5cclxuICByZW1vdmVMaXN0ZW5lcihpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE5ldHdvcmtCcmlkZ2UgaW1wbGVtZW50cyBJTmV0d29yayB7XHJcbiAgcHJpdmF0ZSBzdGF0aWMgd2F0Y2hlcnMgPSBuZXcgTWFwPHN0cmluZywgV2F0Y2hlcj4oKTtcclxuXHJcbiAgYXN5bmMgZ2V0U3RhdHVzKCk6IFByb21pc2U8TmV0d29ya1N0YXR1cz4ge1xyXG4gICAgaWYgKCFOZXR3b3JrKSByZXR1cm4gUHJvbWlzZS5yZWplY3Q8TmV0d29ya1N0YXR1cz4oXCJOZXR3b3JrIG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgcmV0dXJuIGF3YWl0IE5ldHdvcmsuZ2V0U3RhdHVzKCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBhZGRMaXN0ZW5lcihpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBpZiAoIU5ldHdvcmspIHJldHVybiBQcm9taXNlLnJlamVjdDx2b2lkPihcIk5ldHdvcmsgbm90IGF2YWlsYWJsZS5cIik7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgd2F0Y2hlciA9IG5ldyBXYXRjaGVyKCk7XHJcbiAgICAgIHdhdGNoZXIuaWQgPSBpZDtcclxuICAgICAgd2F0Y2hlci5oYW5kbGVyID0gYXdhaXQgTmV0d29yay5hZGRMaXN0ZW5lcihcIm5ldHdvcmtTdGF0dXNDaGFuZ2VcIiwgd2F0Y2hlci5uZXR3b3JrTGlzdGVuZXIuYmluZCh3YXRjaGVyKSk7XHJcbiAgICAgIE5ldHdvcmtCcmlkZ2Uud2F0Y2hlcnMuc2V0KGlkLCB3YXRjaGVyKTtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KHJlc29sdmUgPT4gcmVzb2x2ZSgpKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyLCByZWplY3QpID0+IHJlamVjdChlLm1lc3NhZ2UpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIHJlbW92ZUxpc3RlbmVyKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHdhdGNoZXIgPSBOZXR3b3JrQnJpZGdlLndhdGNoZXJzLmdldChpZCk7XHJcbiAgICAgIGlmICh3YXRjaGVyICYmIHdhdGNoZXIuaGFuZGxlcikge1xyXG4gICAgICAgIHdhdGNoZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgTmV0d29ya0JyaWRnZS53YXRjaGVycy5kZWxldGUoaWQpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPihyZXNvbHZlID0+IHJlc29sdmUoKSk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigociwgcmVqZWN0KSA9PiByZWplY3QoZS5tZXNzYWdlKSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7TW90aW9uRXZlbnRSZXN1bHQsIE1vdGlvbk9yaWVudGF0aW9uRXZlbnRSZXN1bHQsIFBsdWdpbkxpc3RlbmVySGFuZGxlLCBQbHVnaW5zfSBmcm9tIFwiQGNhcGFjaXRvci9jb3JlXCI7XHJcblxyXG5jb25zdCB7TW90aW9ufSA9IFBsdWdpbnM7XHJcblxyXG5jbGFzcyBXYXRjaGVyIHtcclxuICBpZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XHJcbiAgaGFuZGxlcjogUGx1Z2luTGlzdGVuZXJIYW5kbGUgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgcHVibGljIHJlbW92ZSgpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmhhbmRsZXIpIHtcclxuICAgICAgdGhpcy5oYW5kbGVyLnJlbW92ZSgpO1xyXG4gICAgICB0aGlzLmhhbmRsZXIgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIG1vdGlvbkFjY2VsTGlzdGVuZXIoZXZlbnQ6IE1vdGlvbkV2ZW50UmVzdWx0KTogdm9pZCB7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBEb3ROZXQuaW52b2tlTWV0aG9kQXN5bmMoJ0Jpb25pYy5CcmlkZ2UuQ2FwYWNpdG9yJywgJ1JlcG9ydE1vdGlvbkFjY2VsJywgdGhpcy5pZCwgZXZlbnQpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG1vdGlvbk9yaWVudGF0aW9uTGlzdGVuZXIoZXZlbnQ6IE1vdGlvbk9yaWVudGF0aW9uRXZlbnRSZXN1bHQpOiB2b2lkIHtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIERvdE5ldC5pbnZva2VNZXRob2RBc3luYygnQmlvbmljLkJyaWRnZS5DYXBhY2l0b3InLCAnUmVwb3J0TW90aW9uT3JpZW50YXRpb24nLCB0aGlzLmlkLCBldmVudCk7XHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgSU1vdGlvbiB7XHJcbiAgYWRkQWNjZWxMaXN0ZW5lcihpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPjtcclxuICBhZGRPcmllbnRhdGlvbkxpc3RlbmVyKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+O1xyXG4gIHJlbW92ZUxpc3RlbmVyKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTW90aW9uQnJpZGdlIGltcGxlbWVudHMgSU1vdGlvbiB7XHJcbiAgcHJpdmF0ZSBzdGF0aWMgd2F0Y2hlcnMgPSBuZXcgTWFwPHN0cmluZywgV2F0Y2hlcj4oKTtcclxuXHJcbiAgYXN5bmMgYWRkQWNjZWxMaXN0ZW5lcihpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBpZiAoIU1vdGlvbikgcmV0dXJuIFByb21pc2UucmVqZWN0PHZvaWQ+KFwiTW90aW9uIG5vdCBhdmFpbGFibGUuXCIpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHdhdGNoZXIgPSBuZXcgV2F0Y2hlcigpO1xyXG4gICAgICB3YXRjaGVyLmlkID0gaWQ7XHJcbiAgICAgIHdhdGNoZXIuaGFuZGxlciA9IGF3YWl0IE1vdGlvbi5hZGRMaXN0ZW5lcignYWNjZWwnLCB3YXRjaGVyLm1vdGlvbkFjY2VsTGlzdGVuZXIuYmluZCh3YXRjaGVyKSk7XHJcbiAgICAgIE1vdGlvbkJyaWRnZS53YXRjaGVycy5zZXQoaWQsIHdhdGNoZXIpO1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4ocmVzb2x2ZSA9PiByZXNvbHZlKCkpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHIsIHJlamVjdCkgPT4gcmVqZWN0KGUubWVzc2FnZSkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgYWRkT3JpZW50YXRpb25MaXN0ZW5lcihpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBpZiAoIU1vdGlvbikgcmV0dXJuIFByb21pc2UucmVqZWN0PHZvaWQ+KFwiTW90aW9uIG5vdCBhdmFpbGFibGUuXCIpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHdhdGNoZXIgPSBuZXcgV2F0Y2hlcigpO1xyXG4gICAgICB3YXRjaGVyLmlkID0gaWQ7XHJcbiAgICAgIHdhdGNoZXIuaGFuZGxlciA9IGF3YWl0IE1vdGlvbi5hZGRMaXN0ZW5lcignb3JpZW50YXRpb24nLCB3YXRjaGVyLm1vdGlvbk9yaWVudGF0aW9uTGlzdGVuZXIuYmluZCh3YXRjaGVyKSk7XHJcbiAgICAgIE1vdGlvbkJyaWRnZS53YXRjaGVycy5zZXQoaWQsIHdhdGNoZXIpO1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4ocmVzb2x2ZSA9PiByZXNvbHZlKCkpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHIsIHJlamVjdCkgPT4gcmVqZWN0KGUubWVzc2FnZSkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgcmVtb3ZlTGlzdGVuZXIoaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgd2F0Y2hlciA9IE1vdGlvbkJyaWRnZS53YXRjaGVycy5nZXQoaWQpO1xyXG4gICAgICBpZiAod2F0Y2hlciAmJiB3YXRjaGVyLmhhbmRsZXIpIHtcclxuICAgICAgICB3YXRjaGVyLnJlbW92ZSgpO1xyXG4gICAgICAgIE1vdGlvbkJyaWRnZS53YXRjaGVycy5kZWxldGUoaWQpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPihyZXNvbHZlID0+IHJlc29sdmUoKSk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigociwgcmVqZWN0KSA9PiByZWplY3QoZS5tZXNzYWdlKSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7SGFwdGljc0ltcGFjdFN0eWxlLCBQbHVnaW5zfSBmcm9tIFwiQGNhcGFjaXRvci9jb3JlXCI7XHJcblxyXG5jb25zdCB7SGFwdGljc30gPSBQbHVnaW5zO1xyXG5cclxuaW50ZXJmYWNlIElIYXB0aWNzIHtcclxuICB2aWJyYXRlKCk6IFByb21pc2U8dm9pZD47XHJcbiAgaW1wYWN0KHN0eWxlOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+O1xyXG4gIHNlbGVjdGlvblN0YXJ0KCk6IFByb21pc2U8dm9pZD47XHJcbiAgc2VsZWN0aW9uQ2hhbmdlZCgpOiBQcm9taXNlPHZvaWQ+O1xyXG4gIHNlbGVjdGlvbkVuZCgpOiBQcm9taXNlPHZvaWQ+O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgSGFwdGljc0JyaWRnZSBpbXBsZW1lbnRzIElIYXB0aWNzIHtcclxuICBhc3luYyB2aWJyYXRlKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgaWYgKCFIYXB0aWNzKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJIYXB0aWNzIG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgYXdhaXQgSGFwdGljcy52aWJyYXRlKCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBpbXBhY3Qoc3R5bGVPcHRpb246IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgaWYgKCFIYXB0aWNzKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJIYXB0aWNzIG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgbGV0IHN0eWxlID0gSGFwdGljc0ltcGFjdFN0eWxlLkxpZ2h0O1xyXG4gICAgc3dpdGNoIChzdHlsZU9wdGlvbikge1xyXG4gICAgICBjYXNlIDA6XHJcbiAgICAgICAgc3R5bGUgPSBIYXB0aWNzSW1wYWN0U3R5bGUuSGVhdnk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgMTpcclxuICAgICAgICBzdHlsZSA9IEhhcHRpY3NJbXBhY3RTdHlsZS5NZWRpdW07XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICBhd2FpdCBIYXB0aWNzLmltcGFjdCh7c3R5bGV9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHNlbGVjdGlvblN0YXJ0KCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgaWYgKCFIYXB0aWNzKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJIYXB0aWNzIG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgYXdhaXQgSGFwdGljcy5zZWxlY3Rpb25TdGFydCgpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgc2VsZWN0aW9uQ2hhbmdlZCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGlmICghSGFwdGljcykgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiSGFwdGljcyBub3QgYXZhaWxhYmxlLlwiKTtcclxuICAgIGF3YWl0IEhhcHRpY3Muc2VsZWN0aW9uQ2hhbmdlZCgpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgc2VsZWN0aW9uRW5kKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgaWYgKCFIYXB0aWNzKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJIYXB0aWNzIG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgYXdhaXQgSGFwdGljcy5zZWxlY3Rpb25FbmQoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHtcclxuICBGaWxlQXBwZW5kT3B0aW9ucyxcclxuICBGaWxlQXBwZW5kUmVzdWx0LFxyXG4gIEZpbGVEZWxldGVPcHRpb25zLFxyXG4gIEZpbGVEZWxldGVSZXN1bHQsXHJcbiAgRmlsZVJlYWRPcHRpb25zLFxyXG4gIEZpbGVSZWFkUmVzdWx0LFxyXG4gIEZpbGVzeXN0ZW1EaXJlY3RvcnksXHJcbiAgRmlsZXN5c3RlbUVuY29kaW5nLFxyXG4gIEZpbGVXcml0ZU9wdGlvbnMsXHJcbiAgRmlsZVdyaXRlUmVzdWx0LFxyXG4gIEdldFVyaU9wdGlvbnMsXHJcbiAgR2V0VXJpUmVzdWx0LFxyXG4gIE1rZGlyT3B0aW9ucyxcclxuICBNa2RpclJlc3VsdCxcclxuICBQbHVnaW5zLFxyXG4gIFJlYWRkaXJPcHRpb25zLFxyXG4gIFJlYWRkaXJSZXN1bHQsXHJcbiAgUm1kaXJPcHRpb25zLFxyXG4gIFJtZGlyUmVzdWx0LFxyXG4gIFN0YXRPcHRpb25zLFxyXG4gIFN0YXRSZXN1bHRcclxufSBmcm9tIFwiQGNhcGFjaXRvci9jb3JlXCI7XHJcblxyXG5jb25zdCB7RmlsZXN5c3RlbX0gPSBQbHVnaW5zO1xyXG5cclxuaW50ZXJmYWNlIElGaWxlc3lzdGVtIHtcclxuICBhcHBlbmRGaWxlKG9wdGlvbnM6IEZpbGVBcHBlbmRPcHRpb25zKTogUHJvbWlzZTxGaWxlQXBwZW5kUmVzdWx0PjtcclxuXHJcbiAgZGVsZXRlRmlsZShvcHRpb25zOiBGaWxlRGVsZXRlT3B0aW9ucyk6IFByb21pc2U8RmlsZURlbGV0ZVJlc3VsdD47XHJcblxyXG4gIGdldFVyaShvcHRpb25zOiBHZXRVcmlPcHRpb25zKTogUHJvbWlzZTxHZXRVcmlSZXN1bHQ+O1xyXG5cclxuICBta2RpcihvcHRpb25zOiBNa2Rpck9wdGlvbnMpOiBQcm9taXNlPE1rZGlyUmVzdWx0PjtcclxuXHJcbiAgcmVhZEZpbGUob3B0aW9uczogRmlsZVJlYWRPcHRpb25zKTogUHJvbWlzZTxGaWxlUmVhZFJlc3VsdD47XHJcblxyXG4gIHJlYWRkaXIob3B0aW9uczogUmVhZGRpck9wdGlvbnMpOiBQcm9taXNlPFJlYWRkaXJSZXN1bHQ+O1xyXG5cclxuICBybWRpcihvcHRpb25zOiBSbWRpck9wdGlvbnMpOiBQcm9taXNlPFJtZGlyUmVzdWx0PjtcclxuXHJcbiAgc3RhdChvcHRpb25zOiBTdGF0T3B0aW9ucyk6IFByb21pc2U8U3RhdFJlc3VsdD47XHJcblxyXG4gIHdyaXRlRmlsZShvcHRpb25zOiBGaWxlV3JpdGVPcHRpb25zKTogUHJvbWlzZTxGaWxlV3JpdGVSZXN1bHQ+O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRmlsZXN5c3RlbUJyaWRnZSBpbXBsZW1lbnRzIElGaWxlc3lzdGVtIHtcclxuICBhc3luYyBhcHBlbmRGaWxlKG9wdGlvbnM6IEZpbGVBcHBlbmRPcHRpb25zKTogUHJvbWlzZTxGaWxlQXBwZW5kUmVzdWx0PiB7XHJcbiAgICBpZiAoIUZpbGVzeXN0ZW0pIHJldHVybiBQcm9taXNlLnJlamVjdChcIkZpbGVzeXN0ZW0gbm90IGF2YWlsYWJsZS5cIik7XHJcbiAgICBvcHRpb25zLmVuY29kaW5nID0gRmlsZXN5c3RlbUJyaWRnZS50cmFuc2xhdGVFbmNvZGUob3B0aW9ucy5lbmNvZGluZyk7XHJcbiAgICBvcHRpb25zLmRpcmVjdG9yeSA9IEZpbGVzeXN0ZW1CcmlkZ2UudHJhbnNsYXRlRGlyZWN0b3J5KG9wdGlvbnMuZGlyZWN0b3J5KTtcclxuICAgIHJldHVybiBhd2FpdCBGaWxlc3lzdGVtLmFwcGVuZEZpbGUob3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBkZWxldGVGaWxlKG9wdGlvbnM6IEZpbGVEZWxldGVPcHRpb25zKTogUHJvbWlzZTxGaWxlRGVsZXRlUmVzdWx0PiB7XHJcbiAgICBpZiAoIUZpbGVzeXN0ZW0pIHJldHVybiBQcm9taXNlLnJlamVjdChcIkZpbGVzeXN0ZW0gbm90IGF2YWlsYWJsZS5cIik7XHJcbiAgICBvcHRpb25zLmRpcmVjdG9yeSA9IEZpbGVzeXN0ZW1CcmlkZ2UudHJhbnNsYXRlRGlyZWN0b3J5KG9wdGlvbnMuZGlyZWN0b3J5KTtcclxuICAgIHJldHVybiBhd2FpdCBGaWxlc3lzdGVtLmRlbGV0ZUZpbGUob3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRVcmkob3B0aW9uczogR2V0VXJpT3B0aW9ucyk6IFByb21pc2U8R2V0VXJpUmVzdWx0PiB7XHJcbiAgICBpZiAoIUZpbGVzeXN0ZW0pIHJldHVybiBQcm9taXNlLnJlamVjdChcIkZpbGVzeXN0ZW0gbm90IGF2YWlsYWJsZS5cIik7XHJcbiAgICBvcHRpb25zLmRpcmVjdG9yeSA9IEZpbGVzeXN0ZW1CcmlkZ2UudHJhbnNsYXRlRGlyZWN0b3J5KG9wdGlvbnMuZGlyZWN0b3J5KTtcclxuICAgIHJldHVybiBhd2FpdCBGaWxlc3lzdGVtLmdldFVyaShvcHRpb25zKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIG1rZGlyKG9wdGlvbnM6IE1rZGlyT3B0aW9ucyk6IFByb21pc2U8TWtkaXJSZXN1bHQ+IHtcclxuICAgIGlmICghRmlsZXN5c3RlbSkgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiRmlsZXN5c3RlbSBub3QgYXZhaWxhYmxlLlwiKTtcclxuICAgIG9wdGlvbnMuZGlyZWN0b3J5ID0gRmlsZXN5c3RlbUJyaWRnZS50cmFuc2xhdGVEaXJlY3Rvcnkob3B0aW9ucy5kaXJlY3RvcnkpO1xyXG4gICAgcmV0dXJuIGF3YWl0IEZpbGVzeXN0ZW0ubWtkaXIob3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICBhc3luYyByZWFkRmlsZShvcHRpb25zOiBGaWxlUmVhZE9wdGlvbnMpOiBQcm9taXNlPEZpbGVSZWFkUmVzdWx0PiB7XHJcbiAgICBpZiAoIUZpbGVzeXN0ZW0pIHJldHVybiBQcm9taXNlLnJlamVjdChcIkZpbGVzeXN0ZW0gbm90IGF2YWlsYWJsZS5cIik7XHJcbiAgICBvcHRpb25zLmVuY29kaW5nID0gRmlsZXN5c3RlbUJyaWRnZS50cmFuc2xhdGVFbmNvZGUob3B0aW9ucy5lbmNvZGluZyk7XHJcbiAgICBvcHRpb25zLmRpcmVjdG9yeSA9IEZpbGVzeXN0ZW1CcmlkZ2UudHJhbnNsYXRlRGlyZWN0b3J5KG9wdGlvbnMuZGlyZWN0b3J5KTtcclxuICAgIHJldHVybiBhd2FpdCBGaWxlc3lzdGVtLnJlYWRGaWxlKG9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgcmVhZGRpcihvcHRpb25zOiBSZWFkZGlyT3B0aW9ucyk6IFByb21pc2U8UmVhZGRpclJlc3VsdD4ge1xyXG4gICAgaWYgKCFGaWxlc3lzdGVtKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJGaWxlc3lzdGVtIG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgb3B0aW9ucy5kaXJlY3RvcnkgPSBGaWxlc3lzdGVtQnJpZGdlLnRyYW5zbGF0ZURpcmVjdG9yeShvcHRpb25zLmRpcmVjdG9yeSk7XHJcbiAgICByZXR1cm4gYXdhaXQgRmlsZXN5c3RlbS5yZWFkZGlyKG9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgcm1kaXIob3B0aW9uczogUm1kaXJPcHRpb25zKTogUHJvbWlzZTxSbWRpclJlc3VsdD4ge1xyXG4gICAgaWYgKCFGaWxlc3lzdGVtKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJGaWxlc3lzdGVtIG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgb3B0aW9ucy5kaXJlY3RvcnkgPSBGaWxlc3lzdGVtQnJpZGdlLnRyYW5zbGF0ZURpcmVjdG9yeShvcHRpb25zLmRpcmVjdG9yeSk7XHJcbiAgICByZXR1cm4gYXdhaXQgRmlsZXN5c3RlbS5ybWRpcihvcHRpb25zKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHN0YXQob3B0aW9uczogU3RhdE9wdGlvbnMpOiBQcm9taXNlPFN0YXRSZXN1bHQ+IHtcclxuICAgIGlmICghRmlsZXN5c3RlbSkgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiRmlsZXN5c3RlbSBub3QgYXZhaWxhYmxlLlwiKTtcclxuICAgIG9wdGlvbnMuZGlyZWN0b3J5ID0gRmlsZXN5c3RlbUJyaWRnZS50cmFuc2xhdGVEaXJlY3Rvcnkob3B0aW9ucy5kaXJlY3RvcnkpO1xyXG4gICAgcmV0dXJuIGF3YWl0IEZpbGVzeXN0ZW0uc3RhdChvcHRpb25zKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHdyaXRlRmlsZShvcHRpb25zOiBGaWxlV3JpdGVPcHRpb25zKTogUHJvbWlzZTxGaWxlV3JpdGVSZXN1bHQ+IHtcclxuICAgIGNvbnNvbGUubG9nKG9wdGlvbnMpO1xyXG4gICAgaWYgKCFGaWxlc3lzdGVtKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJGaWxlc3lzdGVtIG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgb3B0aW9ucy5lbmNvZGluZyA9IEZpbGVzeXN0ZW1CcmlkZ2UudHJhbnNsYXRlRW5jb2RlKG9wdGlvbnMuZW5jb2RpbmcpO1xyXG4gICAgb3B0aW9ucy5kaXJlY3RvcnkgPSBGaWxlc3lzdGVtQnJpZGdlLnRyYW5zbGF0ZURpcmVjdG9yeShvcHRpb25zLmRpcmVjdG9yeSk7XHJcbiAgICByZXR1cm4gYXdhaXQgRmlsZXN5c3RlbS53cml0ZUZpbGUob3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHN0YXRpYyB0cmFuc2xhdGVFbmNvZGUoZW5jb2RlOiBhbnkpOiBGaWxlc3lzdGVtRW5jb2Rpbmcge1xyXG4gICAgc3dpdGNoIChlbmNvZGUpIHtcclxuICAgICAgY2FzZSAxOlxyXG4gICAgICAgIHJldHVybiBGaWxlc3lzdGVtRW5jb2RpbmcuQVNDSUk7XHJcbiAgICAgIGNhc2UgMjpcclxuICAgICAgICByZXR1cm4gRmlsZXN5c3RlbUVuY29kaW5nLlVURjE2O1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiBGaWxlc3lzdGVtRW5jb2RpbmcuVVRGODtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgc3RhdGljIHRyYW5zbGF0ZURpcmVjdG9yeShkaXJlY3Rvcnk6IGFueSk6IEZpbGVzeXN0ZW1EaXJlY3Rvcnkge1xyXG4gICAgc3dpdGNoIChkaXJlY3RvcnkpIHtcclxuICAgICAgY2FzZSAxOlxyXG4gICAgICAgIHJldHVybiBGaWxlc3lzdGVtRGlyZWN0b3J5LkRvY3VtZW50cztcclxuICAgICAgY2FzZSAyOlxyXG4gICAgICAgIHJldHVybiBGaWxlc3lzdGVtRGlyZWN0b3J5LkRhdGE7XHJcbiAgICAgIGNhc2UgMzpcclxuICAgICAgICByZXR1cm4gRmlsZXN5c3RlbURpcmVjdG9yeS5DYWNoZTtcclxuICAgICAgY2FzZSA0OlxyXG4gICAgICAgIHJldHVybiBGaWxlc3lzdGVtRGlyZWN0b3J5LkV4dGVybmFsO1xyXG4gICAgICBjYXNlIDU6XHJcbiAgICAgICAgcmV0dXJuIEZpbGVzeXN0ZW1EaXJlY3RvcnkuRXh0ZXJuYWxTdG9yYWdlO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiBGaWxlc3lzdGVtRGlyZWN0b3J5LkFwcGxpY2F0aW9uO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQge0NsaXBib2FyZFJlYWRSZXN1bHQsIENsaXBib2FyZFdyaXRlLCBQbHVnaW5zfSBmcm9tIFwiQGNhcGFjaXRvci9jb3JlXCI7XHJcblxyXG5jb25zdCB7Q2xpcGJvYXJkfSA9IFBsdWdpbnM7XHJcblxyXG5pbnRlcmZhY2UgSUNsaXBib2FyZCB7XHJcbiAgcmVhZCh0eXBlOiBudW1iZXIpOiBQcm9taXNlPENsaXBib2FyZFJlYWRSZXN1bHQ+O1xyXG5cclxuICB3cml0ZShvcHRpb25zOiBDbGlwYm9hcmRXcml0ZSk6IFByb21pc2U8dm9pZD47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDbGlwYm9hcmRCcmlkZ2UgaW1wbGVtZW50cyBJQ2xpcGJvYXJkIHtcclxuICBhc3luYyByZWFkKHR5cGU6IG51bWJlcik6IFByb21pc2U8Q2xpcGJvYXJkUmVhZFJlc3VsdD4ge1xyXG4gICAgaWYgKCFDbGlwYm9hcmQpIHJldHVybiBQcm9taXNlLnJlamVjdChcIkNsaXBib2FyZCBub3QgYXZhaWxhYmxlLlwiKTtcclxuICAgIHJldHVybiBhd2FpdCBDbGlwYm9hcmQucmVhZCh7dHlwZTogQ2xpcGJvYXJkQnJpZGdlLnRyYW5zbGF0ZUNsaXBib2FyZFR5cGUodHlwZSl9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHdyaXRlKGRhdGE6IGFueSk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgaWYgKCFDbGlwYm9hcmQpIHJldHVybiBQcm9taXNlLnJlamVjdChcIkNsaXBib2FyZCBub3QgYXZhaWxhYmxlLlwiKTtcclxuICAgIGF3YWl0IENsaXBib2FyZC53cml0ZSh7c3RyaW5nOiBkYXRhLnN0ciwgaW1hZ2U6IGRhdGEuaW1hZ2UsIHVybDogZGF0YS51cmwsIGxhYmVsOiBkYXRhLmxhYmVsfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHN0YXRpYyB0cmFuc2xhdGVDbGlwYm9hcmRUeXBlKHR5cGU6IG51bWJlcik6ICdzdHJpbmcnIHwgJ3VybCcgfCAnaW1hZ2UnIHtcclxuICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICBjYXNlIDE6XHJcbiAgICAgICAgcmV0dXJuICd1cmwnO1xyXG4gICAgICBjYXNlIDI6XHJcbiAgICAgICAgcmV0dXJuICdpbWFnZSc7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuICdzdHJpbmcnO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQge0NhbGxiYWNrSUQsIEdlb2xvY2F0aW9uUG9zaXRpb24sIFBsdWdpbnMsIFRvYXN0U2hvd09wdGlvbnN9IGZyb20gXCJAY2FwYWNpdG9yL2NvcmVcIjtcclxuXHJcbmNvbnN0IHtCYWNrZ3JvdW5kVGFza30gPSBQbHVnaW5zO1xyXG5cclxuY2xhc3MgV2F0Y2hlciB7XHJcbiAgaWQ6IENhbGxiYWNrSUQgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgcHVibGljIGJlZm9yZUV4aXRDYWxsYmFjaygpOiB2b2lkIHtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIERvdE5ldC5pbnZva2VNZXRob2RBc3luYygnQmlvbmljLkJyaWRnZS5DYXBhY2l0b3InLCAnTm90aWZ5QmVmb3JlRXhpdCcsIHRoaXMuaWQpO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbmludGVyZmFjZSBJQmFja2dyb3VuZFRhc2sge1xyXG4gIGJlZm9yZUV4aXQoKTogUHJvbWlzZTxDYWxsYmFja0lEPjtcclxuICBmaW5pc2god2F0Y2hlcklkOiBDYWxsYmFja0lEKTogUHJvbWlzZTx2b2lkPjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEJhY2tncm91bmRUYXNrQnJpZGdlIGltcGxlbWVudHMgSUJhY2tncm91bmRUYXNrIHtcclxuICBwcml2YXRlIHN0YXRpYyB3YXRjaGVycyA9IG5ldyBNYXA8Q2FsbGJhY2tJRCwgV2F0Y2hlcj4oKTtcclxuXHJcbiAgYXN5bmMgYmVmb3JlRXhpdCgpOiBQcm9taXNlPENhbGxiYWNrSUQ+IHtcclxuICAgIGlmICghQmFja2dyb3VuZFRhc2spIHJldHVybiBQcm9taXNlLnJlamVjdChcIkJhY2tncm91bmRUYXNrIG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgd2F0Y2hlciA9IG5ldyBXYXRjaGVyKCk7XHJcbiAgICAgIGNvbnN0IGlkID0gYXdhaXQgQmFja2dyb3VuZFRhc2suYmVmb3JlRXhpdCh3YXRjaGVyLmJlZm9yZUV4aXRDYWxsYmFjay5iaW5kKHdhdGNoZXIpKTtcclxuICAgICAgd2F0Y2hlci5pZCA9IGlkO1xyXG4gICAgICBCYWNrZ3JvdW5kVGFza0JyaWRnZS53YXRjaGVycy5zZXQoaWQsIHdhdGNoZXIpO1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2U8Q2FsbGJhY2tJRD4ocmVzb2x2ZSA9PiByZXNvbHZlKGlkKSk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxDYWxsYmFja0lEPigociwgcmVqZWN0KSA9PiByZWplY3QoZS5tZXNzYWdlKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBmaW5pc2god2F0Y2hlcklkOiBDYWxsYmFja0lEKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBpZiAoIUJhY2tncm91bmRUYXNrKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJCYWNrZ3JvdW5kVGFzayBub3QgYXZhaWxhYmxlLlwiKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIEJhY2tncm91bmRUYXNrQnJpZGdlLndhdGNoZXJzLmRlbGV0ZSh3YXRjaGVySWQpO1xyXG4gICAgICByZXR1cm4gYXdhaXQgQmFja2dyb3VuZFRhc2suZmluaXNoKHt0YXNrSWQ6IHdhdGNoZXJJZH0pO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHIsIHJlamVjdCkgPT4gcmVqZWN0KGUubWVzc2FnZSkpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQge0FwcFJlc3RvcmVkUmVzdWx0LCBBcHBTdGF0ZSwgQXBwVXJsT3BlbiwgUGx1Z2luTGlzdGVuZXJIYW5kbGUsIFBsdWdpbnN9IGZyb20gXCJAY2FwYWNpdG9yL2NvcmVcIjtcclxuXHJcbmNvbnN0IHtBcHB9ID0gUGx1Z2lucztcclxuXHJcbmNsYXNzIFdhdGNoZXIge1xyXG4gIGlkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcclxuICBoYW5kbGVyOiBQbHVnaW5MaXN0ZW5lckhhbmRsZSB8IG51bGwgPSBudWxsO1xyXG5cclxuICBwdWJsaWMgcmVtb3ZlKCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuaGFuZGxlcikge1xyXG4gICAgICB0aGlzLmhhbmRsZXIucmVtb3ZlKCk7XHJcbiAgICAgIHRoaXMuaGFuZGxlciA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXBwU3RhdGVDaGFuZ2VMaXN0ZW5lcihzdGF0ZTogQXBwU3RhdGUpOiB2b2lkIHtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIERvdE5ldC5pbnZva2VNZXRob2RBc3luYygnQmlvbmljLkJyaWRnZS5DYXBhY2l0b3InLCAnUmVwb3J0QXBwU3RhdGVDaGFuZ2UnLCB0aGlzLmlkLCBzdGF0ZSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXBwVXJsT3Blbkxpc3RlbmVyKGRhdGE6IEFwcFVybE9wZW4pOiB2b2lkIHtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIERvdE5ldC5pbnZva2VNZXRob2RBc3luYygnQmlvbmljLkJyaWRnZS5DYXBhY2l0b3InLCAnUmVwb3J0QXBwVXJsT3BlbicsIHRoaXMuaWQsIGRhdGEpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGFwcFJlc3RvcmVkUmVzdWx0TGlzdGVuZXIoZGF0YTogQXBwUmVzdG9yZWRSZXN1bHQpOiB2b2lkIHtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIERvdE5ldC5pbnZva2VNZXRob2RBc3luYygnQmlvbmljLkJyaWRnZS5DYXBhY2l0b3InLCAnUmVwb3J0QXBwUmVzdG9yZWRSZXN1bHQnLCB0aGlzLmlkLCBkYXRhKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBiYWNrQnV0dG9uTGlzdGVuZXIoZGF0YTogQXBwVXJsT3Blbik6IHZvaWQge1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgRG90TmV0Lmludm9rZU1ldGhvZEFzeW5jKCdCaW9uaWMuQnJpZGdlLkNhcGFjaXRvcicsICdSZXBvcnRCYWNrQnV0dG9uJywgdGhpcy5pZCwgZGF0YSk7XHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgSUFwcCB7XHJcbiAgY2FuT3BlblVybCh1cmw6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj47XHJcblxyXG4gIGV4aXRBcHAoKTogUHJvbWlzZTx2b2lkPjtcclxuXHJcbiAgZ2V0TGF1bmNoVXJsKCk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD47XHJcblxyXG4gIG9wZW5VcmwodXJsOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+O1xyXG5cclxuICBhZGRBcHBTdGF0ZUNoYW5nZUxpc3RlbmVyKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+O1xyXG5cclxuICBhZGRBcHBVcmxPcGVuTGlzdGVuZXIoaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD47XHJcblxyXG4gIGFkZEFwcFJlc3RvcmVkUmVzdWx0TGlzdGVuZXIoaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD47XHJcblxyXG4gIGFkZEJhY2tCdXR0b25MaXN0ZW5lcihpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPjtcclxuXHJcbiAgcmVtb3ZlTGlzdGVuZXIoaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBcHBCcmlkZ2UgaW1wbGVtZW50cyBJQXBwIHtcclxuICBwcml2YXRlIHN0YXRpYyB3YXRjaGVycyA9IG5ldyBNYXA8c3RyaW5nLCBXYXRjaGVyPigpO1xyXG5cclxuICBhc3luYyBjYW5PcGVuVXJsKHVybDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICBpZiAoIUFwcCkgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiQXBwIG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQXBwLmNhbk9wZW5Vcmwoe3VybH0pO1xyXG4gICAgcmV0dXJuIHJlc3VsdCA/IHJlc3VsdC52YWx1ZSA6IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZXhpdEFwcCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGlmICghQXBwKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJBcHAgbm90IGF2YWlsYWJsZS5cIik7XHJcbiAgICBhd2FpdCBBcHAuZXhpdEFwcCgpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0TGF1bmNoVXJsKCk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xyXG4gICAgaWYgKCFBcHApIHJldHVybiBQcm9taXNlLnJlamVjdChcIkFwcCBub3QgYXZhaWxhYmxlLlwiKTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEFwcC5nZXRMYXVuY2hVcmwoKTtcclxuICAgIHJldHVybiByZXN1bHQgJiYgcmVzdWx0LnVybCA/IHJlc3VsdC51cmwgOiBudWxsO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgb3BlblVybCh1cmw6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgaWYgKCFBcHApIHJldHVybiBQcm9taXNlLnJlamVjdChcIkFwcCBub3QgYXZhaWxhYmxlLlwiKTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEFwcC5vcGVuVXJsKHt1cmx9KTtcclxuICAgIHJldHVybiByZXN1bHQgPyByZXN1bHQuY29tcGxldGVkIDogZmFsc2U7XHJcbiAgfVxyXG5cclxuICBhc3luYyBhZGRBcHBTdGF0ZUNoYW5nZUxpc3RlbmVyKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGlmICghQXBwKSByZXR1cm4gUHJvbWlzZS5yZWplY3Q8dm9pZD4oXCJBcHAgbm90IGF2YWlsYWJsZS5cIik7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgd2F0Y2hlciA9IG5ldyBXYXRjaGVyKCk7XHJcbiAgICAgIHdhdGNoZXIuaWQgPSBpZDtcclxuICAgICAgd2F0Y2hlci5oYW5kbGVyID0gYXdhaXQgQXBwLmFkZExpc3RlbmVyKFwiYXBwU3RhdGVDaGFuZ2VcIiwgd2F0Y2hlci5hcHBTdGF0ZUNoYW5nZUxpc3RlbmVyLmJpbmQod2F0Y2hlcikpO1xyXG4gICAgICBBcHBCcmlkZ2Uud2F0Y2hlcnMuc2V0KGlkLCB3YXRjaGVyKTtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KHJlc29sdmUgPT4gcmVzb2x2ZSgpKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyLCByZWplY3QpID0+IHJlamVjdChlLm1lc3NhZ2UpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGFkZEFwcFVybE9wZW5MaXN0ZW5lcihpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBpZiAoIUFwcCkgcmV0dXJuIFByb21pc2UucmVqZWN0PHZvaWQ+KFwiQXBwIG5vdCBhdmFpbGFibGUuXCIpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHdhdGNoZXIgPSBuZXcgV2F0Y2hlcigpO1xyXG4gICAgICB3YXRjaGVyLmlkID0gaWQ7XHJcbiAgICAgIHdhdGNoZXIuaGFuZGxlciA9IGF3YWl0IEFwcC5hZGRMaXN0ZW5lcihcImFwcFVybE9wZW5cIiwgd2F0Y2hlci5hcHBVcmxPcGVuTGlzdGVuZXIuYmluZCh3YXRjaGVyKSk7XHJcbiAgICAgIEFwcEJyaWRnZS53YXRjaGVycy5zZXQoaWQsIHdhdGNoZXIpO1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4ocmVzb2x2ZSA9PiByZXNvbHZlKCkpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHIsIHJlamVjdCkgPT4gcmVqZWN0KGUubWVzc2FnZSkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgYWRkQXBwUmVzdG9yZWRSZXN1bHRMaXN0ZW5lcihpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBpZiAoIUFwcCkgcmV0dXJuIFByb21pc2UucmVqZWN0PHZvaWQ+KFwiQXBwIG5vdCBhdmFpbGFibGUuXCIpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHdhdGNoZXIgPSBuZXcgV2F0Y2hlcigpO1xyXG4gICAgICB3YXRjaGVyLmlkID0gaWQ7XHJcbiAgICAgIHdhdGNoZXIuaGFuZGxlciA9IGF3YWl0IEFwcC5hZGRMaXN0ZW5lcihcImFwcFJlc3RvcmVkUmVzdWx0XCIsIHdhdGNoZXIuYXBwUmVzdG9yZWRSZXN1bHRMaXN0ZW5lci5iaW5kKHdhdGNoZXIpKTtcclxuICAgICAgQXBwQnJpZGdlLndhdGNoZXJzLnNldChpZCwgd2F0Y2hlcik7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPihyZXNvbHZlID0+IHJlc29sdmUoKSk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigociwgcmVqZWN0KSA9PiByZWplY3QoZS5tZXNzYWdlKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBhZGRCYWNrQnV0dG9uTGlzdGVuZXIoaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgaWYgKCFBcHApIHJldHVybiBQcm9taXNlLnJlamVjdDx2b2lkPihcIkFwcCBub3QgYXZhaWxhYmxlLlwiKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB3YXRjaGVyID0gbmV3IFdhdGNoZXIoKTtcclxuICAgICAgd2F0Y2hlci5pZCA9IGlkO1xyXG4gICAgICB3YXRjaGVyLmhhbmRsZXIgPSBhd2FpdCBBcHAuYWRkTGlzdGVuZXIoXCJiYWNrQnV0dG9uXCIsIHdhdGNoZXIuYmFja0J1dHRvbkxpc3RlbmVyLmJpbmQod2F0Y2hlcikpO1xyXG4gICAgICBBcHBCcmlkZ2Uud2F0Y2hlcnMuc2V0KGlkLCB3YXRjaGVyKTtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KHJlc29sdmUgPT4gcmVzb2x2ZSgpKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyLCByZWplY3QpID0+IHJlamVjdChlLm1lc3NhZ2UpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIHJlbW92ZUxpc3RlbmVyKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHdhdGNoZXIgPSBBcHBCcmlkZ2Uud2F0Y2hlcnMuZ2V0KGlkKTtcclxuICAgICAgaWYgKHdhdGNoZXIgJiYgd2F0Y2hlci5oYW5kbGVyKSB7XHJcbiAgICAgICAgd2F0Y2hlci5yZW1vdmUoKTtcclxuICAgICAgICBBcHBCcmlkZ2Uud2F0Y2hlcnMuZGVsZXRlKGlkKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4ocmVzb2x2ZSA9PiByZXNvbHZlKCkpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHIsIHJlamVjdCkgPT4gcmVqZWN0KGUubWVzc2FnZSkpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQge0FjY2Vzc2liaWxpdHlTcGVha09wdGlvbnMsIFBsdWdpbkxpc3RlbmVySGFuZGxlLCBQbHVnaW5zLCBTY3JlZW5SZWFkZXJFbmFibGVkUmVzdWx0fSBmcm9tIFwiQGNhcGFjaXRvci9jb3JlXCI7XHJcblxyXG5jb25zdCB7QWNjZXNzaWJpbGl0eX0gPSBQbHVnaW5zO1xyXG5cclxuY2xhc3MgV2F0Y2hlciB7XHJcbiAgaWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xyXG4gIGhhbmRsZXI6IFBsdWdpbkxpc3RlbmVySGFuZGxlIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gIHB1YmxpYyByZW1vdmUoKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5oYW5kbGVyKSB7XHJcbiAgICAgIHRoaXMuaGFuZGxlci5yZW1vdmUoKTtcclxuICAgICAgdGhpcy5oYW5kbGVyID0gbnVsbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhY2Nlc3NpYmlsaXR5U2NyZWVuUmVhZGVyU3RhdGVDaGFuZ2VMaXN0ZW5lcihzdGF0ZTogU2NyZWVuUmVhZGVyRW5hYmxlZFJlc3VsdCk6IHZvaWQge1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgRG90TmV0Lmludm9rZU1ldGhvZEFzeW5jKFxyXG4gICAgICAnQmlvbmljLkJyaWRnZS5DYXBhY2l0b3InLFxyXG4gICAgICAnUmVwb3J0QWNjZXNzaWJpbGl0eVNjcmVlblJlYWRlclN0YXRlQ2hhbmdlJyxcclxuICAgICAgdGhpcy5pZCxcclxuICAgICAgc3RhdGUgJiYgc3RhdGUudmFsdWUgPyBzdGF0ZS52YWx1ZSA6IGZhbHNlXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuaW50ZXJmYWNlIElBY2Nlc3NpYmlsaXR5IHtcclxuICBpc1NjcmVlblJlYWRlckVuYWJsZWQoKTogUHJvbWlzZTxib29sZWFuPjtcclxuXHJcbiAgc3BlYWsob3B0aW9uczogQWNjZXNzaWJpbGl0eVNwZWFrT3B0aW9ucyk6IFByb21pc2U8dm9pZD47XHJcblxyXG4gIGFkZExpc3RlbmVyKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+XHJcblxyXG4gIHJlbW92ZUxpc3RlbmVyKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQWNjZXNzaWJpbGl0eUJyaWRnZSBpbXBsZW1lbnRzIElBY2Nlc3NpYmlsaXR5IHtcclxuICBwcml2YXRlIHN0YXRpYyB3YXRjaGVycyA9IG5ldyBNYXA8c3RyaW5nLCBXYXRjaGVyPigpO1xyXG5cclxuICBhc3luYyBpc1NjcmVlblJlYWRlckVuYWJsZWQoKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICBpZiAoIUFjY2Vzc2liaWxpdHkpIHJldHVybiBQcm9taXNlLnJlamVjdChcIkFwcCBub3QgYXZhaWxhYmxlLlwiKTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEFjY2Vzc2liaWxpdHkuaXNTY3JlZW5SZWFkZXJFbmFibGVkKCk7XHJcbiAgICByZXR1cm4gcmVzdWx0ID8gcmVzdWx0LnZhbHVlIDogZmFsc2U7XHJcbiAgfVxyXG5cclxuICBhc3luYyBzcGVhayhvcHRpb25zOiBBY2Nlc3NpYmlsaXR5U3BlYWtPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBpZiAoIUFjY2Vzc2liaWxpdHkpIHJldHVybiBQcm9taXNlLnJlamVjdDx2b2lkPihcIkFwcCBub3QgYXZhaWxhYmxlLlwiKTtcclxuICAgIGF3YWl0IEFjY2Vzc2liaWxpdHkuc3BlYWsob3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBhZGRMaXN0ZW5lcihpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBpZiAoIUFjY2Vzc2liaWxpdHkpIHJldHVybiBQcm9taXNlLnJlamVjdDx2b2lkPihcIkFwcCBub3QgYXZhaWxhYmxlLlwiKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB3YXRjaGVyID0gbmV3IFdhdGNoZXIoKTtcclxuICAgICAgd2F0Y2hlci5pZCA9IGlkO1xyXG4gICAgICB3YXRjaGVyLmhhbmRsZXIgPSBhd2FpdCBBY2Nlc3NpYmlsaXR5LmFkZExpc3RlbmVyKFxyXG4gICAgICAgIFwiYWNjZXNzaWJpbGl0eVNjcmVlblJlYWRlclN0YXRlQ2hhbmdlXCIsXHJcbiAgICAgICAgd2F0Y2hlci5hY2Nlc3NpYmlsaXR5U2NyZWVuUmVhZGVyU3RhdGVDaGFuZ2VMaXN0ZW5lci5iaW5kKHdhdGNoZXIpXHJcbiAgICAgICk7XHJcbiAgICAgIEFjY2Vzc2liaWxpdHlCcmlkZ2Uud2F0Y2hlcnMuc2V0KGlkLCB3YXRjaGVyKTtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KHJlc29sdmUgPT4gcmVzb2x2ZSgpKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyLCByZWplY3QpID0+IHJlamVjdChlLm1lc3NhZ2UpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIHJlbW92ZUxpc3RlbmVyKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHdhdGNoZXIgPSBBY2Nlc3NpYmlsaXR5QnJpZGdlLndhdGNoZXJzLmdldChpZCk7XHJcbiAgICAgIGlmICh3YXRjaGVyICYmIHdhdGNoZXIuaGFuZGxlcikge1xyXG4gICAgICAgIHdhdGNoZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgQWNjZXNzaWJpbGl0eUJyaWRnZS53YXRjaGVycy5kZWxldGUoaWQpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPihyZXNvbHZlID0+IHJlc29sdmUoKSk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigociwgcmVqZWN0KSA9PiByZWplY3QoZS5tZXNzYWdlKSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=